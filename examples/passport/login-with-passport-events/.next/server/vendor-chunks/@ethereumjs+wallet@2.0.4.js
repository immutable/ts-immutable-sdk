"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@ethereumjs+wallet@2.0.4";
exports.ids = ["vendor-chunks/@ethereumjs+wallet@2.0.4"];
exports.modules = {

/***/ "(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/hdkey.js":
/*!**************************************************************************************************************!*\
  !*** ../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/hdkey.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EthereumHDKey: () => (/* binding */ EthereumHDKey)\n/* harmony export */ });\n/* harmony import */ var ethereum_cryptography_bip39_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethereum-cryptography/bip39/index.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/bip39/index.js\");\n/* harmony import */ var ethereum_cryptography_hdkey_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethereum-cryptography/hdkey.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/hdkey.js\");\n/* harmony import */ var _wallet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wallet.js */ \"(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/wallet.js\");\n\n\n\nclass EthereumHDKey {\n    constructor(_hdkey) {\n        this._hdkey = _hdkey;\n    }\n    /**\n     * Creates an instance based on a seed.\n     */\n    static fromMasterSeed(seedBuffer) {\n        return new EthereumHDKey(ethereum_cryptography_hdkey_js__WEBPACK_IMPORTED_MODULE_1__.HDKey.fromMasterSeed(seedBuffer));\n    }\n    /**\n     * Creates an instance based on BIP39 mnemonic phrases\n     */\n    static fromMnemonic(mnemonic, passphrase) {\n        return EthereumHDKey.fromMasterSeed((0,ethereum_cryptography_bip39_index_js__WEBPACK_IMPORTED_MODULE_0__.mnemonicToSeedSync)(mnemonic, passphrase));\n    }\n    /**\n     * Create an instance based on a BIP32 extended private or public key.\n     */\n    static fromExtendedKey(base58Key) {\n        return new EthereumHDKey(ethereum_cryptography_hdkey_js__WEBPACK_IMPORTED_MODULE_1__.HDKey.fromExtendedKey(base58Key));\n    }\n    /**\n     * Returns a BIP32 extended private key (xprv)\n     */\n    privateExtendedKey() {\n        if (!this._hdkey.privateExtendedKey) {\n            throw new Error('This is a public key only wallet');\n        }\n        return this._hdkey.privateExtendedKey;\n    }\n    /**\n     * Return a BIP32 extended public key (xpub)\n     */\n    publicExtendedKey() {\n        return this._hdkey.publicExtendedKey;\n    }\n    /**\n     * Derives a node based on a path (e.g. m/44'/0'/0/1)\n     */\n    derivePath(path) {\n        return new EthereumHDKey(this._hdkey.derive(path));\n    }\n    /**\n     * Derive a node based on a child index\n     */\n    deriveChild(index) {\n        return new EthereumHDKey(this._hdkey.deriveChild(index));\n    }\n    /**\n     * Return a `Wallet` instance as seen above\n     */\n    getWallet() {\n        if (this._hdkey.privateKey) {\n            return _wallet_js__WEBPACK_IMPORTED_MODULE_2__.Wallet.fromPrivateKey(this._hdkey.privateKey);\n        }\n        if (!this._hdkey.publicKey)\n            throw new Error('No hdkey');\n        return _wallet_js__WEBPACK_IMPORTED_MODULE_2__.Wallet.fromPublicKey(this._hdkey.publicKey, true);\n    }\n}\n//# sourceMappingURL=hdkey.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3dhbGxldEAyLjAuNC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvd2FsbGV0L2Rpc3QvZXNtL2hka2V5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEU7QUFDbkI7QUFDbEI7QUFDOUI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxpRUFBSztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHdGQUFrQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGlFQUFLO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4Q0FBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhDQUFNO0FBQ3JCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BleGFtcGxlcy9sb2dpbi13aXRoLXBhc3Nwb3J0LWV2ZW50cy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrd2FsbGV0QDIuMC40L25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy93YWxsZXQvZGlzdC9lc20vaGRrZXkuanM/ZmExMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtbmVtb25pY1RvU2VlZFN5bmMgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkvYmlwMzkvaW5kZXguanMnO1xuaW1wb3J0IHsgSERLZXkgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkvaGRrZXkuanMnO1xuaW1wb3J0IHsgV2FsbGV0IH0gZnJvbSAnLi93YWxsZXQuanMnO1xuZXhwb3J0IGNsYXNzIEV0aGVyZXVtSERLZXkge1xuICAgIGNvbnN0cnVjdG9yKF9oZGtleSkge1xuICAgICAgICB0aGlzLl9oZGtleSA9IF9oZGtleTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBiYXNlZCBvbiBhIHNlZWQuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21NYXN0ZXJTZWVkKHNlZWRCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFdGhlcmV1bUhES2V5KEhES2V5LmZyb21NYXN0ZXJTZWVkKHNlZWRCdWZmZXIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBiYXNlZCBvbiBCSVAzOSBtbmVtb25pYyBwaHJhc2VzXG4gICAgICovXG4gICAgc3RhdGljIGZyb21NbmVtb25pYyhtbmVtb25pYywgcGFzc3BocmFzZSkge1xuICAgICAgICByZXR1cm4gRXRoZXJldW1IREtleS5mcm9tTWFzdGVyU2VlZChtbmVtb25pY1RvU2VlZFN5bmMobW5lbW9uaWMsIHBhc3NwaHJhc2UpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluc3RhbmNlIGJhc2VkIG9uIGEgQklQMzIgZXh0ZW5kZWQgcHJpdmF0ZSBvciBwdWJsaWMga2V5LlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tRXh0ZW5kZWRLZXkoYmFzZTU4S2V5KSB7XG4gICAgICAgIHJldHVybiBuZXcgRXRoZXJldW1IREtleShIREtleS5mcm9tRXh0ZW5kZWRLZXkoYmFzZTU4S2V5KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCSVAzMiBleHRlbmRlZCBwcml2YXRlIGtleSAoeHBydilcbiAgICAgKi9cbiAgICBwcml2YXRlRXh0ZW5kZWRLZXkoKSB7XG4gICAgICAgIGlmICghdGhpcy5faGRrZXkucHJpdmF0ZUV4dGVuZGVkS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgaXMgYSBwdWJsaWMga2V5IG9ubHkgd2FsbGV0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2hka2V5LnByaXZhdGVFeHRlbmRlZEtleTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgQklQMzIgZXh0ZW5kZWQgcHVibGljIGtleSAoeHB1YilcbiAgICAgKi9cbiAgICBwdWJsaWNFeHRlbmRlZEtleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hka2V5LnB1YmxpY0V4dGVuZGVkS2V5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXJpdmVzIGEgbm9kZSBiYXNlZCBvbiBhIHBhdGggKGUuZy4gbS80NCcvMCcvMC8xKVxuICAgICAqL1xuICAgIGRlcml2ZVBhdGgocGF0aCkge1xuICAgICAgICByZXR1cm4gbmV3IEV0aGVyZXVtSERLZXkodGhpcy5faGRrZXkuZGVyaXZlKHBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVyaXZlIGEgbm9kZSBiYXNlZCBvbiBhIGNoaWxkIGluZGV4XG4gICAgICovXG4gICAgZGVyaXZlQ2hpbGQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFdGhlcmV1bUhES2V5KHRoaXMuX2hka2V5LmRlcml2ZUNoaWxkKGluZGV4KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGBXYWxsZXRgIGluc3RhbmNlIGFzIHNlZW4gYWJvdmVcbiAgICAgKi9cbiAgICBnZXRXYWxsZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oZGtleS5wcml2YXRlS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gV2FsbGV0LmZyb21Qcml2YXRlS2V5KHRoaXMuX2hka2V5LnByaXZhdGVLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGRrZXkucHVibGljS2V5KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBoZGtleScpO1xuICAgICAgICByZXR1cm4gV2FsbGV0LmZyb21QdWJsaWNLZXkodGhpcy5faGRrZXkucHVibGljS2V5LCB0cnVlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oZGtleS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/hdkey.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/index.js":
/*!**************************************************************************************************************!*\
  !*** ../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/index.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Wallet: () => (/* reexport safe */ _wallet_js__WEBPACK_IMPORTED_MODULE_2__.Wallet),\n/* harmony export */   hdkey: () => (/* reexport module object */ _hdkey_js__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   thirdparty: () => (/* reexport module object */ _thirdparty_js__WEBPACK_IMPORTED_MODULE_1__)\n/* harmony export */ });\n/* harmony import */ var _hdkey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hdkey.js */ \"(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/hdkey.js\");\n/* harmony import */ var _thirdparty_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./thirdparty.js */ \"(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/thirdparty.js\");\n/* harmony import */ var _wallet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wallet.js */ \"(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/wallet.js\");\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3dhbGxldEAyLjAuNC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvd2FsbGV0L2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFvQztBQUNVO0FBQ2xCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGV4YW1wbGVzL2xvZ2luLXdpdGgtcGFzc3BvcnQtZXZlbnRzLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXRoZXJldW1qcyt3YWxsZXRAMi4wLjQvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3dhbGxldC9kaXN0L2VzbS9pbmRleC5qcz85MTVlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGFzIGhka2V5IGZyb20gJy4vaGRrZXkuanMnO1xuZXhwb3J0ICogYXMgdGhpcmRwYXJ0eSBmcm9tICcuL3RoaXJkcGFydHkuanMnO1xuZXhwb3J0ICogZnJvbSAnLi93YWxsZXQuanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/thirdparty.js":
/*!*******************************************************************************************************************!*\
  !*** ../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/thirdparty.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Thirdparty: () => (/* binding */ Thirdparty),\n/* harmony export */   fromEtherCamp: () => (/* binding */ fromEtherCamp),\n/* harmony export */   fromEtherWallet: () => (/* binding */ fromEtherWallet),\n/* harmony export */   fromQuorumWallet: () => (/* binding */ fromQuorumWallet)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _scure_base__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @scure/base */ \"(ssr)/../../../node_modules/.pnpm/@scure+base@1.1.7/node_modules/@scure/base/lib/esm/index.js\");\n/* harmony import */ var ethereum_cryptography_aes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethereum-cryptography/aes.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/aes.js\");\n/* harmony import */ var ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethereum-cryptography/keccak.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/keccak.js\");\n/* harmony import */ var ethereum_cryptography_pbkdf2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethereum-cryptography/pbkdf2.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/pbkdf2.js\");\n/* harmony import */ var js_md5__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! js-md5 */ \"(ssr)/../../../node_modules/.pnpm/js-md5@0.8.3/node_modules/js-md5/src/md5.js\");\n/* harmony import */ var _wallet_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./wallet.js */ \"(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/wallet.js\");\n\n\n\n\n\n\n\nconst evpKdfDefaults = {\n    count: 1,\n    keysize: 16,\n    ivsize: 16,\n    digest: 'md5',\n};\nfunction mergeEvpKdfOptsWithDefaults(opts) {\n    if (!opts) {\n        return evpKdfDefaults;\n    }\n    return {\n        count: opts.count ?? evpKdfDefaults.count,\n        keysize: opts.keysize ?? evpKdfDefaults.keysize,\n        ivsize: opts.ivsize ?? evpKdfDefaults.ivsize,\n        digest: opts.digest ?? evpKdfDefaults.digest,\n    };\n}\n/*\n * opts:\n * - digest - digest algorithm, defaults to md5\n * - count - hash iterations\n * - keysize - desired key size\n * - ivsize - desired IV size\n *\n * Algorithm form https://www.openssl.org/docs/manmaster/crypto/EVP_BytesToKey.html\n *\n * FIXME: not optimised at all\n */\nfunction evp_kdf(data, salt, opts) {\n    const params = mergeEvpKdfOptsWithDefaults(opts);\n    // A single EVP iteration, returns `D_i`, where block equlas to `D_(i-1)`\n    function iter(block) {\n        if (params.digest !== 'md5')\n            throw new Error('Only md5 is supported in evp_kdf');\n        let hash = js_md5__WEBPACK_IMPORTED_MODULE_4__.md5.create();\n        hash.update(block);\n        hash.update(data);\n        hash.update(salt);\n        block = Uint8Array.from(hash.array());\n        for (let i = 1, len = params.count; i < len; i++) {\n            hash = js_md5__WEBPACK_IMPORTED_MODULE_4__.md5.create();\n            hash.update(block);\n            block = new Uint8Array(hash.arrayBuffer());\n        }\n        return block;\n    }\n    const ret = [];\n    let i = 0;\n    while ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...ret).length < params.keysize + params.ivsize) {\n        ret[i] = iter(i === 0 ? new Uint8Array() : ret[i - 1]);\n        i++;\n    }\n    const tmp = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(...ret);\n    return {\n        key: tmp.subarray(0, params.keysize),\n        iv: tmp.subarray(params.keysize, params.keysize + params.ivsize),\n    };\n}\n// http://stackoverflow.com/questions/25288311/cryptojs-aes-pattern-always-ends-with\nfunction decodeCryptojsSalt(input) {\n    const ciphertext = _scure_base__WEBPACK_IMPORTED_MODULE_6__.base64.decode(input);\n    if ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUtf8)(ciphertext.subarray(0, 8)) === 'Salted__') {\n        return {\n            salt: ciphertext.subarray(8, 16),\n            ciphertext: ciphertext.subarray(16),\n        };\n    }\n    return { ciphertext };\n}\n/*\n * Third Party API: Import a wallet generated by EtherWallet\n * This wallet format is created by https://github.com/SilentCicero/ethereumjs-accounts\n * and used on https://www.myetherwallet.com/\n */\nasync function fromEtherWallet(input, password) {\n    const json = typeof input === 'object' ? input : JSON.parse(input);\n    let privateKey;\n    if (!json.locked) {\n        if (json.private.length !== 64) {\n            throw new Error('Invalid private key length');\n        }\n        privateKey = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(json.private);\n    }\n    else {\n        if (typeof password !== 'string') {\n            throw new Error('Password required');\n        }\n        if (password.length < 7) {\n            throw new Error('Password must be at least 7 characters');\n        }\n        // the \"encrypted\" version has the low 4 bytes\n        // of the hash of the address appended\n        const hash = json.encrypted ? json.private.slice(0, 128) : json.private;\n        // decode openssl ciphertext + salt encoding\n        const cipher = decodeCryptojsSalt(hash);\n        if (!cipher.salt) {\n            throw new Error('Unsupported EtherWallet key format');\n        }\n        // derive key/iv using OpenSSL EVP as implemented in CryptoJS\n        const evp = evp_kdf((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(password), cipher.salt, { keysize: 32, ivsize: 16 });\n        const pr = await (0,ethereum_cryptography_aes_js__WEBPACK_IMPORTED_MODULE_1__.decrypt)(cipher.ciphertext, evp.key, evp.iv, 'aes-256-cbc');\n        // NOTE: yes, they've run it through UTF8\n        privateKey = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUtf8)(pr));\n    }\n    const wallet = new _wallet_js__WEBPACK_IMPORTED_MODULE_5__.Wallet(privateKey);\n    if (wallet.getAddressString() !== json.address) {\n        throw new Error('Invalid private key or address');\n    }\n    return wallet;\n}\n/**\n * Third Party API: Import a brain wallet used by Ether.Camp\n */\nfunction fromEtherCamp(passphrase) {\n    return new _wallet_js__WEBPACK_IMPORTED_MODULE_5__.Wallet((0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__.keccak256)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(passphrase)));\n}\n/**\n * Third Party API: Import a brain wallet used by Quorum Wallet\n */\nfunction fromQuorumWallet(passphrase, userid) {\n    if (passphrase.length < 10) {\n        throw new Error('Passphrase must be at least 10 characters');\n    }\n    if (userid.length < 10) {\n        throw new Error('User id must be at least 10 characters');\n    }\n    const merged = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(passphrase + userid);\n    const seed = (0,ethereum_cryptography_pbkdf2_js__WEBPACK_IMPORTED_MODULE_3__.pbkdf2Sync)(merged, merged, 2000, 32, 'sha256');\n    return new _wallet_js__WEBPACK_IMPORTED_MODULE_5__.Wallet(seed);\n}\nconst Thirdparty = {\n    fromEtherWallet,\n    fromEtherCamp,\n    fromQuorumWallet,\n};\n//# sourceMappingURL=thirdparty.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3dhbGxldEAyLjAuNC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvd2FsbGV0L2Rpc3QvZXNtL3RoaXJkcGFydHkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDMUQ7QUFDa0I7QUFDSztBQUNDO0FBQ2hDO0FBQ1E7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdUNBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRCxtQkFBbUIsdUNBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2REFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwrQ0FBTTtBQUM3QixRQUFRLDZEQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0VBQW9CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkRBQVcsMkJBQTJCLHlCQUF5QjtBQUMzRix5QkFBeUIscUVBQU87QUFDaEM7QUFDQSxxQkFBcUIsc0VBQW9CLENBQUMsNkRBQVc7QUFDckQ7QUFDQSx1QkFBdUIsOENBQU07QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZUFBZSw4Q0FBTSxDQUFDLDBFQUFTLENBQUMsNkRBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBVztBQUM5QixpQkFBaUIsMkVBQVU7QUFDM0IsZUFBZSw4Q0FBTTtBQUNyQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BleGFtcGxlcy9sb2dpbi13aXRoLXBhc3Nwb3J0LWV2ZW50cy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrd2FsbGV0QDIuMC40L25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy93YWxsZXQvZGlzdC9lc20vdGhpcmRwYXJ0eS5qcz8wYjRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ5dGVzVG9VdGY4LCBjb25jYXRCeXRlcywgdW5wcmVmaXhlZEhleFRvQnl0ZXMsIHV0ZjhUb0J5dGVzIH0gZnJvbSAnQGV0aGVyZXVtanMvdXRpbCc7XG5pbXBvcnQgeyBiYXNlNjQgfSBmcm9tICdAc2N1cmUvYmFzZSc7XG5pbXBvcnQgeyBkZWNyeXB0IH0gZnJvbSAnZXRoZXJldW0tY3J5cHRvZ3JhcGh5L2Flcy5qcyc7XG5pbXBvcnQgeyBrZWNjYWsyNTYgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkva2VjY2FrLmpzJztcbmltcG9ydCB7IHBia2RmMlN5bmMgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkvcGJrZGYyLmpzJztcbmltcG9ydCB7IG1kNSB9IGZyb20gJ2pzLW1kNSc7XG5pbXBvcnQgeyBXYWxsZXQgfSBmcm9tICcuL3dhbGxldC5qcyc7XG5jb25zdCBldnBLZGZEZWZhdWx0cyA9IHtcbiAgICBjb3VudDogMSxcbiAgICBrZXlzaXplOiAxNixcbiAgICBpdnNpemU6IDE2LFxuICAgIGRpZ2VzdDogJ21kNScsXG59O1xuZnVuY3Rpb24gbWVyZ2VFdnBLZGZPcHRzV2l0aERlZmF1bHRzKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGV2cEtkZkRlZmF1bHRzO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb3VudDogb3B0cy5jb3VudCA/PyBldnBLZGZEZWZhdWx0cy5jb3VudCxcbiAgICAgICAga2V5c2l6ZTogb3B0cy5rZXlzaXplID8/IGV2cEtkZkRlZmF1bHRzLmtleXNpemUsXG4gICAgICAgIGl2c2l6ZTogb3B0cy5pdnNpemUgPz8gZXZwS2RmRGVmYXVsdHMuaXZzaXplLFxuICAgICAgICBkaWdlc3Q6IG9wdHMuZGlnZXN0ID8/IGV2cEtkZkRlZmF1bHRzLmRpZ2VzdCxcbiAgICB9O1xufVxuLypcbiAqIG9wdHM6XG4gKiAtIGRpZ2VzdCAtIGRpZ2VzdCBhbGdvcml0aG0sIGRlZmF1bHRzIHRvIG1kNVxuICogLSBjb3VudCAtIGhhc2ggaXRlcmF0aW9uc1xuICogLSBrZXlzaXplIC0gZGVzaXJlZCBrZXkgc2l6ZVxuICogLSBpdnNpemUgLSBkZXNpcmVkIElWIHNpemVcbiAqXG4gKiBBbGdvcml0aG0gZm9ybSBodHRwczovL3d3dy5vcGVuc3NsLm9yZy9kb2NzL21hbm1hc3Rlci9jcnlwdG8vRVZQX0J5dGVzVG9LZXkuaHRtbFxuICpcbiAqIEZJWE1FOiBub3Qgb3B0aW1pc2VkIGF0IGFsbFxuICovXG5mdW5jdGlvbiBldnBfa2RmKGRhdGEsIHNhbHQsIG9wdHMpIHtcbiAgICBjb25zdCBwYXJhbXMgPSBtZXJnZUV2cEtkZk9wdHNXaXRoRGVmYXVsdHMob3B0cyk7XG4gICAgLy8gQSBzaW5nbGUgRVZQIGl0ZXJhdGlvbiwgcmV0dXJucyBgRF9pYCwgd2hlcmUgYmxvY2sgZXF1bGFzIHRvIGBEXyhpLTEpYFxuICAgIGZ1bmN0aW9uIGl0ZXIoYmxvY2spIHtcbiAgICAgICAgaWYgKHBhcmFtcy5kaWdlc3QgIT09ICdtZDUnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG1kNSBpcyBzdXBwb3J0ZWQgaW4gZXZwX2tkZicpO1xuICAgICAgICBsZXQgaGFzaCA9IG1kNS5jcmVhdGUoKTtcbiAgICAgICAgaGFzaC51cGRhdGUoYmxvY2spO1xuICAgICAgICBoYXNoLnVwZGF0ZShkYXRhKTtcbiAgICAgICAgaGFzaC51cGRhdGUoc2FsdCk7XG4gICAgICAgIGJsb2NrID0gVWludDhBcnJheS5mcm9tKGhhc2guYXJyYXkoKSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxLCBsZW4gPSBwYXJhbXMuY291bnQ7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaGFzaCA9IG1kNS5jcmVhdGUoKTtcbiAgICAgICAgICAgIGhhc2gudXBkYXRlKGJsb2NrKTtcbiAgICAgICAgICAgIGJsb2NrID0gbmV3IFVpbnQ4QXJyYXkoaGFzaC5hcnJheUJ1ZmZlcigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxvY2s7XG4gICAgfVxuICAgIGNvbnN0IHJldCA9IFtdO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoY29uY2F0Qnl0ZXMoLi4ucmV0KS5sZW5ndGggPCBwYXJhbXMua2V5c2l6ZSArIHBhcmFtcy5pdnNpemUpIHtcbiAgICAgICAgcmV0W2ldID0gaXRlcihpID09PSAwID8gbmV3IFVpbnQ4QXJyYXkoKSA6IHJldFtpIC0gMV0pO1xuICAgICAgICBpKys7XG4gICAgfVxuICAgIGNvbnN0IHRtcCA9IGNvbmNhdEJ5dGVzKC4uLnJldCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2V5OiB0bXAuc3ViYXJyYXkoMCwgcGFyYW1zLmtleXNpemUpLFxuICAgICAgICBpdjogdG1wLnN1YmFycmF5KHBhcmFtcy5rZXlzaXplLCBwYXJhbXMua2V5c2l6ZSArIHBhcmFtcy5pdnNpemUpLFxuICAgIH07XG59XG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI1Mjg4MzExL2NyeXB0b2pzLWFlcy1wYXR0ZXJuLWFsd2F5cy1lbmRzLXdpdGhcbmZ1bmN0aW9uIGRlY29kZUNyeXB0b2pzU2FsdChpbnB1dCkge1xuICAgIGNvbnN0IGNpcGhlcnRleHQgPSBiYXNlNjQuZGVjb2RlKGlucHV0KTtcbiAgICBpZiAoYnl0ZXNUb1V0ZjgoY2lwaGVydGV4dC5zdWJhcnJheSgwLCA4KSkgPT09ICdTYWx0ZWRfXycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNhbHQ6IGNpcGhlcnRleHQuc3ViYXJyYXkoOCwgMTYpLFxuICAgICAgICAgICAgY2lwaGVydGV4dDogY2lwaGVydGV4dC5zdWJhcnJheSgxNiksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IGNpcGhlcnRleHQgfTtcbn1cbi8qXG4gKiBUaGlyZCBQYXJ0eSBBUEk6IEltcG9ydCBhIHdhbGxldCBnZW5lcmF0ZWQgYnkgRXRoZXJXYWxsZXRcbiAqIFRoaXMgd2FsbGV0IGZvcm1hdCBpcyBjcmVhdGVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9TaWxlbnRDaWNlcm8vZXRoZXJldW1qcy1hY2NvdW50c1xuICogYW5kIHVzZWQgb24gaHR0cHM6Ly93d3cubXlldGhlcndhbGxldC5jb20vXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmcm9tRXRoZXJXYWxsZXQoaW5wdXQsIHBhc3N3b3JkKSB7XG4gICAgY29uc3QganNvbiA9IHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyBpbnB1dCA6IEpTT04ucGFyc2UoaW5wdXQpO1xuICAgIGxldCBwcml2YXRlS2V5O1xuICAgIGlmICghanNvbi5sb2NrZWQpIHtcbiAgICAgICAgaWYgKGpzb24ucHJpdmF0ZS5sZW5ndGggIT09IDY0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcHJpdmF0ZSBrZXkgbGVuZ3RoJyk7XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZUtleSA9IHVucHJlZml4ZWRIZXhUb0J5dGVzKGpzb24ucHJpdmF0ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHBhc3N3b3JkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXNzd29yZCByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXNzd29yZC5sZW5ndGggPCA3KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNyBjaGFyYWN0ZXJzJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIFwiZW5jcnlwdGVkXCIgdmVyc2lvbiBoYXMgdGhlIGxvdyA0IGJ5dGVzXG4gICAgICAgIC8vIG9mIHRoZSBoYXNoIG9mIHRoZSBhZGRyZXNzIGFwcGVuZGVkXG4gICAgICAgIGNvbnN0IGhhc2ggPSBqc29uLmVuY3J5cHRlZCA/IGpzb24ucHJpdmF0ZS5zbGljZSgwLCAxMjgpIDoganNvbi5wcml2YXRlO1xuICAgICAgICAvLyBkZWNvZGUgb3BlbnNzbCBjaXBoZXJ0ZXh0ICsgc2FsdCBlbmNvZGluZ1xuICAgICAgICBjb25zdCBjaXBoZXIgPSBkZWNvZGVDcnlwdG9qc1NhbHQoaGFzaCk7XG4gICAgICAgIGlmICghY2lwaGVyLnNhbHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgRXRoZXJXYWxsZXQga2V5IGZvcm1hdCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRlcml2ZSBrZXkvaXYgdXNpbmcgT3BlblNTTCBFVlAgYXMgaW1wbGVtZW50ZWQgaW4gQ3J5cHRvSlNcbiAgICAgICAgY29uc3QgZXZwID0gZXZwX2tkZih1dGY4VG9CeXRlcyhwYXNzd29yZCksIGNpcGhlci5zYWx0LCB7IGtleXNpemU6IDMyLCBpdnNpemU6IDE2IH0pO1xuICAgICAgICBjb25zdCBwciA9IGF3YWl0IGRlY3J5cHQoY2lwaGVyLmNpcGhlcnRleHQsIGV2cC5rZXksIGV2cC5pdiwgJ2Flcy0yNTYtY2JjJyk7XG4gICAgICAgIC8vIE5PVEU6IHllcywgdGhleSd2ZSBydW4gaXQgdGhyb3VnaCBVVEY4XG4gICAgICAgIHByaXZhdGVLZXkgPSB1bnByZWZpeGVkSGV4VG9CeXRlcyhieXRlc1RvVXRmOChwcikpO1xuICAgIH1cbiAgICBjb25zdCB3YWxsZXQgPSBuZXcgV2FsbGV0KHByaXZhdGVLZXkpO1xuICAgIGlmICh3YWxsZXQuZ2V0QWRkcmVzc1N0cmluZygpICE9PSBqc29uLmFkZHJlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByaXZhdGUga2V5IG9yIGFkZHJlc3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHdhbGxldDtcbn1cbi8qKlxuICogVGhpcmQgUGFydHkgQVBJOiBJbXBvcnQgYSBicmFpbiB3YWxsZXQgdXNlZCBieSBFdGhlci5DYW1wXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXRoZXJDYW1wKHBhc3NwaHJhc2UpIHtcbiAgICByZXR1cm4gbmV3IFdhbGxldChrZWNjYWsyNTYodXRmOFRvQnl0ZXMocGFzc3BocmFzZSkpKTtcbn1cbi8qKlxuICogVGhpcmQgUGFydHkgQVBJOiBJbXBvcnQgYSBicmFpbiB3YWxsZXQgdXNlZCBieSBRdW9ydW0gV2FsbGV0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVvcnVtV2FsbGV0KHBhc3NwaHJhc2UsIHVzZXJpZCkge1xuICAgIGlmIChwYXNzcGhyYXNlLmxlbmd0aCA8IDEwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGFzc3BocmFzZSBtdXN0IGJlIGF0IGxlYXN0IDEwIGNoYXJhY3RlcnMnKTtcbiAgICB9XG4gICAgaWYgKHVzZXJpZC5sZW5ndGggPCAxMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgaWQgbXVzdCBiZSBhdCBsZWFzdCAxMCBjaGFyYWN0ZXJzJyk7XG4gICAgfVxuICAgIGNvbnN0IG1lcmdlZCA9IHV0ZjhUb0J5dGVzKHBhc3NwaHJhc2UgKyB1c2VyaWQpO1xuICAgIGNvbnN0IHNlZWQgPSBwYmtkZjJTeW5jKG1lcmdlZCwgbWVyZ2VkLCAyMDAwLCAzMiwgJ3NoYTI1NicpO1xuICAgIHJldHVybiBuZXcgV2FsbGV0KHNlZWQpO1xufVxuZXhwb3J0IGNvbnN0IFRoaXJkcGFydHkgPSB7XG4gICAgZnJvbUV0aGVyV2FsbGV0LFxuICAgIGZyb21FdGhlckNhbXAsXG4gICAgZnJvbVF1b3J1bVdhbGxldCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aGlyZHBhcnR5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/thirdparty.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/wallet.js":
/*!***************************************************************************************************************!*\
  !*** ../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/wallet.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Wallet: () => (/* binding */ Wallet)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _scure_base__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @scure/base */ \"(ssr)/../../../node_modules/.pnpm/@scure+base@1.1.7/node_modules/@scure/base/lib/esm/index.js\");\n/* harmony import */ var ethereum_cryptography_aes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethereum-cryptography/aes.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/aes.js\");\n/* harmony import */ var ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethereum-cryptography/keccak.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/keccak.js\");\n/* harmony import */ var ethereum_cryptography_pbkdf2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethereum-cryptography/pbkdf2.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/pbkdf2.js\");\n/* harmony import */ var ethereum_cryptography_scrypt_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethereum-cryptography/scrypt.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/scrypt.js\");\n/* harmony import */ var ethereum_cryptography_sha256_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethereum-cryptography/sha256.js */ \"(ssr)/../../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/sha256.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uuid */ \"(ssr)/../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-node/v4.js\");\n\n\n\n\n\n\n\n\nconst bs58check = (0,_scure_base__WEBPACK_IMPORTED_MODULE_6__.base58check)(ethereum_cryptography_sha256_js__WEBPACK_IMPORTED_MODULE_5__.sha256);\nfunction scryptV1(password, salt, kdfparams) {\n    const { N, P, R, DkLen } = kdfparams;\n    return (0,ethereum_cryptography_scrypt_js__WEBPACK_IMPORTED_MODULE_4__.scrypt)(password, salt, N, P, R, DkLen);\n}\nfunction scryptV3(password, kdfparams) {\n    const { salt, n, p, r, dklen } = kdfparams;\n    return (0,ethereum_cryptography_scrypt_js__WEBPACK_IMPORTED_MODULE_4__.scrypt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(password), salt, n, p, r, dklen);\n}\nfunction scryptV3Out(password, kdfparams) {\n    const { salt, n, p, r, dklen } = kdfparams;\n    return (0,ethereum_cryptography_scrypt_js__WEBPACK_IMPORTED_MODULE_4__.scrypt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(password), (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(salt), n, p, r, dklen);\n}\nfunction validateHexString(paramName, str, length) {\n    if (str.toLowerCase().startsWith('0x')) {\n        str = str.slice(2);\n    }\n    if (!str && length === undefined) {\n        return str;\n    }\n    if (length % 2) {\n        throw new Error(`Invalid length argument, must be an even number`);\n    }\n    if (typeof length === 'number' && str.length !== length) {\n        throw new Error(`Invalid ${paramName}, string must be ${length} hex characters`);\n    }\n    if (!/^([0-9a-f]{2})+$/i.test(str)) {\n        const howMany = typeof length === 'number' ? length : 'empty or a non-zero even number of';\n        throw new Error(`Invalid ${paramName}, string must be ${howMany} hex characters`);\n    }\n    return str;\n}\nfunction validateBytes(paramName, bytes, length) {\n    if (!(bytes instanceof Uint8Array)) {\n        const howManyHex = typeof length === 'number' ? `${length * 2}` : 'empty or a non-zero even number of';\n        const howManyBytes = typeof length === 'number' ? ` (${length} bytes)` : '';\n        throw new Error(`Invalid ${paramName}, must be a string (${howManyHex} hex characters) or Uint8Array${howManyBytes}`);\n    }\n    if (typeof length === 'number' && bytes.length !== length) {\n        throw new Error(`Invalid ${paramName}, Uint8Array must be ${length} bytes`);\n    }\n    return bytes;\n}\nfunction mergeToV3ParamsWithDefaults(params) {\n    const v3Defaults = {\n        cipher: 'aes-128-ctr',\n        kdf: 'scrypt',\n        salt: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(32),\n        iv: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(16),\n        uuid: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(16),\n        dklen: 32,\n        c: 262144,\n        n: 262144,\n        r: 8,\n        p: 1,\n    };\n    if (!params) {\n        return v3Defaults;\n    }\n    if (typeof params.salt === 'string') {\n        params.salt = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(validateHexString('salt', params.salt));\n    }\n    if (typeof params.iv === 'string') {\n        params.iv = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(validateHexString('iv', params.iv, 32));\n    }\n    if (typeof params.uuid === 'string') {\n        params.uuid = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(validateHexString('uuid', params.uuid, 32));\n    }\n    if (params.salt) {\n        validateBytes('salt', params.salt);\n    }\n    if (params.iv) {\n        validateBytes('iv', params.iv, 16);\n    }\n    if (params.uuid) {\n        validateBytes('uuid', params.uuid, 16);\n    }\n    return {\n        ...v3Defaults,\n        ...params,\n    };\n}\nfunction kdfParamsForPBKDF(opts) {\n    return {\n        dklen: opts.dklen,\n        salt: opts.salt,\n        c: opts.c,\n        prf: 'hmac-sha256',\n    };\n}\nfunction kdfParamsForScrypt(opts) {\n    return {\n        dklen: opts.dklen,\n        salt: opts.salt,\n        n: opts.n,\n        p: opts.p,\n        r: opts.r,\n    };\n}\n// wallet implementation\nclass Wallet {\n    constructor(privateKey, publicKey = undefined) {\n        this.privateKey = privateKey;\n        this.publicKey = publicKey;\n        if (privateKey && publicKey) {\n            throw new Error('Cannot supply both a private and a public key to the constructor');\n        }\n        if (privateKey && !(0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.isValidPrivate)(privateKey)) {\n            throw new Error('Private key does not satisfy the curve requirements (ie. it is invalid)');\n        }\n        if (publicKey && !(0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.isValidPublic)(publicKey)) {\n            throw new Error('Invalid public key');\n        }\n    }\n    // static methods\n    /**\n     * Create an instance based on a new random key.\n     *\n     * @param icapDirect setting this to `true` will generate an address suitable for the `ICAP Direct mode`\n     */\n    static generate(icapDirect = false) {\n        if (icapDirect) {\n            const max = BigInt('0x088f924eeceeda7fe92e1f5b0fffffffffffffff');\n            for (;;) {\n                const privateKey = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(32);\n                const hex = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.privateToAddress)(privateKey));\n                if (BigInt('0x' + hex) <= max) {\n                    return new Wallet(privateKey);\n                }\n            }\n        }\n        else {\n            return new Wallet((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(32));\n        }\n    }\n    /**\n     * Create an instance where the address is valid against the supplied pattern (**this will be very slow**)\n     */\n    static generateVanityAddress(pattern) {\n        if (!(pattern instanceof RegExp)) {\n            pattern = new RegExp(pattern);\n        }\n        for (;;) {\n            const privateKey = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(32);\n            const address = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.privateToAddress)(privateKey);\n            if (pattern.test((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(address))) {\n                return new Wallet(privateKey);\n            }\n        }\n    }\n    /**\n     * Create an instance based on a public key (certain methods will not be available)\n     *\n     * This method only accepts uncompressed Ethereum-style public keys, unless\n     * the `nonStrict` flag is set to true.\n     */\n    static fromPublicKey(publicKey, nonStrict = false) {\n        if (nonStrict) {\n            publicKey = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.importPublic)(publicKey);\n        }\n        return new Wallet(undefined, publicKey);\n    }\n    /**\n     * Create an instance based on a BIP32 extended public key (xpub)\n     */\n    static fromExtendedPublicKey(extendedPublicKey) {\n        if (extendedPublicKey.slice(0, 4) !== 'xpub') {\n            throw new Error('Not an extended public key');\n        }\n        const publicKey = bs58check.decode(extendedPublicKey).subarray(45);\n        // Convert to an Ethereum public key\n        return Wallet.fromPublicKey(publicKey, true);\n    }\n    /**\n     * Create an instance based on a raw private key\n     */\n    static fromPrivateKey(privateKey) {\n        return new Wallet(privateKey);\n    }\n    /**\n     * Create an instance based on a BIP32 extended private key (xprv)\n     */\n    static fromExtendedPrivateKey(extendedPrivateKey) {\n        if (extendedPrivateKey.slice(0, 4) !== 'xprv') {\n            throw new Error('Not an extended private key');\n        }\n        const tmp = bs58check.decode(extendedPrivateKey);\n        if (tmp[45] !== 0) {\n            throw new Error('Invalid extended private key');\n        }\n        return Wallet.fromPrivateKey(tmp.subarray(46));\n    }\n    /**\n     * Import a wallet (Version 1 of the Ethereum wallet format).\n     *\n     * @param input A JSON serialized string, or an object representing V1 Keystore.\n     * @param password The keystore password.\n     */\n    static async fromV1(input, password) {\n        const json = typeof input === 'object' ? input : JSON.parse(input);\n        if (json.Version !== '1') {\n            throw new Error('Not a V1 Wallet');\n        }\n        if (json.Crypto.KeyHeader.Kdf !== 'scrypt') {\n            throw new Error('Unsupported key derivation scheme');\n        }\n        const kdfparams = json.Crypto.KeyHeader.KdfParams;\n        const salt = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(json.Crypto.Salt);\n        const derivedKey = await scryptV1((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(password), salt, kdfparams);\n        const ciphertext = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(json.Crypto.CipherText);\n        const mac = (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__.keccak256)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(derivedKey.subarray(16, 32), ciphertext));\n        if ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(mac) !== json.Crypto.MAC) {\n            throw new Error('Key derivation failed - possibly wrong passphrase');\n        }\n        const seed = await ethereum_cryptography_aes_js__WEBPACK_IMPORTED_MODULE_1__.decrypt(ciphertext, (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__.keccak256)(derivedKey.subarray(0, 16)).subarray(0, 16), (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(json.Crypto.IV), 'aes-128-cbc');\n        return new Wallet(seed);\n    }\n    /**\n     * Import a wallet (Version 3 of the Ethereum wallet format). Set `nonStrict` true to accept files with mixed-caps.\n     *\n     * @param input A JSON serialized string, or an object representing V3 Keystore.\n     * @param password The keystore password.\n     */\n    static async fromV3(input, password, nonStrict = false) {\n        const json = typeof input === 'object' ? input : JSON.parse(nonStrict ? input.toLowerCase() : input);\n        if (json.version !== 3) {\n            throw new Error('Not a V3 wallet');\n        }\n        let derivedKey, kdfparams;\n        if (json.crypto.kdf === 'scrypt') {\n            kdfparams = json.crypto.kdfparams;\n            // FIXME: support progress reporting callback\n            derivedKey = await scryptV3Out(password, kdfparams);\n        }\n        else if (json.crypto.kdf === 'pbkdf2') {\n            kdfparams = json.crypto.kdfparams;\n            if (kdfparams.prf !== 'hmac-sha256') {\n                throw new Error('Unsupported parameters to PBKDF2');\n            }\n            derivedKey = await (0,ethereum_cryptography_pbkdf2_js__WEBPACK_IMPORTED_MODULE_3__.pbkdf2)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(password), (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(kdfparams.salt), kdfparams.c, kdfparams.dklen, 'sha256');\n        }\n        else {\n            throw new Error('Unsupported key derivation scheme');\n        }\n        const ciphertext = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(json.crypto.ciphertext);\n        const mac = (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__.keccak256)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(derivedKey.subarray(16, 32), ciphertext));\n        if ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(mac) !== json.crypto.mac) {\n            throw new Error('Key derivation failed - possibly wrong passphrase');\n        }\n        const seed = await ethereum_cryptography_aes_js__WEBPACK_IMPORTED_MODULE_1__.decrypt(ciphertext, derivedKey.subarray(0, 16), (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(json.crypto.cipherparams.iv), json.crypto.cipher);\n        return new Wallet(seed);\n    }\n    /*\n     * Import an Ethereum Pre Sale wallet.\n     * Based on https://github.com/ethereum/pyethsaletool/blob/master/pyethsaletool.py\n     * JSON fields: encseed, ethaddr, btcaddr, email\n     *\n     * @param input A JSON serialized string, or an object representing EthSale Keystore.\n     * @param password The keystore password.\n     */\n    static async fromEthSale(input, password) {\n        const json = typeof input === 'object' ? input : JSON.parse(input);\n        const encseed = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.unprefixedHexToBytes)(json.encseed);\n        // key derivation\n        const pass = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(password);\n        const derivedKey = (await (0,ethereum_cryptography_pbkdf2_js__WEBPACK_IMPORTED_MODULE_3__.pbkdf2)(pass, pass, 2000, 32, 'sha256')).subarray(0, 16);\n        // seed decoding (IV is first 16 bytes)\n        // NOTE: crypto (derived from openssl) when used with aes-*-cbc will handle PKCS#7 padding internally\n        //       see also http://stackoverflow.com/a/31614770/4964819\n        const seed = await ethereum_cryptography_aes_js__WEBPACK_IMPORTED_MODULE_1__.decrypt(encseed.subarray(16), derivedKey, encseed.subarray(0, 16), 'aes-128-cbc', true);\n        const wallet = new Wallet((0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__.keccak256)(seed));\n        if ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(wallet.getAddress()) !== json.ethaddr) {\n            throw new Error('Decoded key mismatch - possibly wrong passphrase');\n        }\n        return wallet;\n    }\n    // private getters\n    /**\n     * Returns the wallet's public key.\n     */\n    get pubKey() {\n        if (this.publicKey === undefined || this.publicKey === null) {\n            this.publicKey = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.privateToPublic)(this.privateKey);\n        }\n        return this.publicKey;\n    }\n    /**\n     * Returns the wallet's private key.\n     */\n    get privKey() {\n        if (this.privateKey === undefined || this.privateKey === null) {\n            throw new Error('This is a public key only wallet');\n        }\n        return this.privateKey;\n    }\n    // public instance methods\n    /**\n     * Returns the wallet's private key.\n     *\n     */\n    getPrivateKey() {\n        return this.privKey;\n    }\n    getPrivateKeyString() {\n        return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(this.privKey);\n    }\n    /**\n     * Returns the wallet's public key.\n     */\n    getPublicKey() {\n        return this.pubKey;\n    }\n    /**\n     * Returns the wallet's public key as a \"0x\" prefixed hex string\n     */\n    getPublicKeyString() {\n        return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(this.getPublicKey());\n    }\n    /**\n     * Returns the wallet's address.\n     */\n    getAddress() {\n        return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.publicToAddress)(this.pubKey);\n    }\n    /**\n     * Returns the wallet's address as a \"0x\" prefixed hex string\n     */\n    getAddressString() {\n        return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(this.getAddress());\n    }\n    /**\n     * Returns the wallet's private key as a \"0x\" prefixed hex string checksummed\n     * according to [EIP 55](https://github.com/ethereum/EIPs/issues/55).\n     */\n    getChecksumAddressString() {\n        return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toChecksumAddress)(this.getAddressString());\n    }\n    /**\n     * Returns an Etherem Version 3 Keystore Format object representing the wallet\n     *\n     * @param password The password used to encrypt the Keystore.\n     * @param opts The options for the keystore. See [its spec](https://github.com/ethereum/wiki/wiki/Web3-Secret-Storage-Definition) for more info.\n     */\n    async toV3(password, opts) {\n        if (this.privateKey === undefined || this.privateKey === null) {\n            throw new Error('This is a public key only wallet');\n        }\n        const v3Params = mergeToV3ParamsWithDefaults(opts);\n        let kdfParams;\n        let derivedKey;\n        switch (v3Params.kdf) {\n            case \"pbkdf2\" /* KDFFunctions.PBKDF */:\n                kdfParams = kdfParamsForPBKDF(v3Params);\n                derivedKey = await (0,ethereum_cryptography_pbkdf2_js__WEBPACK_IMPORTED_MODULE_3__.pbkdf2)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.utf8ToBytes)(password), kdfParams.salt, kdfParams.c, kdfParams.dklen, 'sha256');\n                break;\n            case \"scrypt\" /* KDFFunctions.Scrypt */:\n                kdfParams = kdfParamsForScrypt(v3Params);\n                // FIXME: support progress reporting callback\n                derivedKey = await scryptV3(password, kdfParams);\n                break;\n            default:\n                throw new Error('Unsupported kdf');\n        }\n        const ciphertext = await ethereum_cryptography_aes_js__WEBPACK_IMPORTED_MODULE_1__.encrypt(this.privKey, derivedKey.subarray(0, 16), v3Params.iv, v3Params.cipher, false);\n        const mac = (0,ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__.keccak256)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.concatBytes)(derivedKey.subarray(16, 32), ciphertext));\n        return {\n            version: 3,\n            id: (0,uuid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({ random: v3Params.uuid }),\n            // @ts-ignore - the official V3 keystore spec omits the address key\n            address: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(this.getAddress()),\n            crypto: {\n                ciphertext: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(ciphertext),\n                cipherparams: { iv: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(v3Params.iv) },\n                cipher: v3Params.cipher,\n                kdf: v3Params.kdf,\n                kdfparams: {\n                    ...kdfParams,\n                    salt: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(kdfParams.salt),\n                },\n                mac: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(mac),\n            },\n        };\n    }\n    /**\n     * Return the suggested filename for V3 keystores.\n     */\n    getV3Filename(timestamp) {\n        /*\n         * We want a timestamp like 2016-03-15T17-11-33.007598288Z. Date formatting\n         * is a pain in Javascript, everbody knows that. We could use moment.js,\n         * but decide to do it manually in order to save space.\n         *\n         * toJSON() returns a pretty close version, so let's use it. It is not UTC though,\n         * but does it really matter?\n         *\n         * Alternative manual way with padding and Date fields: http://stackoverflow.com/a/7244288/4964819\n         *\n         */\n        const ts = timestamp !== undefined ? new Date(timestamp) : new Date();\n        return [\n            'UTC--',\n            ts.toJSON().replace(/:/g, '-'),\n            '--',\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToUnprefixedHex)(this.getAddress()),\n        ].join('');\n    }\n    async toV3String(password, opts) {\n        return JSON.stringify(await this.toV3(password, opts));\n    }\n    /**\n     * Verify the publicKey, privateKey pair\n     *\n     * @param publicKey the public key to verify against the private key of the wallet\n     */\n    verifyPublicKey(publicKey) {\n        if (this.privateKey === undefined)\n            return false;\n        return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.equalsBytes)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.privateToPublic)(this.privateKey), publicKey);\n    }\n}\n//# sourceMappingURL=wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3dhbGxldEAyLjAuNC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvd2FsbGV0L2Rpc3QvZXNtL3dhbGxldC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBbVE7QUFDek47QUFDVTtBQUNRO0FBQ0g7QUFDQTtBQUNBO0FBQ3JCO0FBQ3BDLGtCQUFrQix3REFBVyxDQUFDLG1FQUFNO0FBQ3BDO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0IsV0FBVyx1RUFBTTtBQUNqQjtBQUNBO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkMsV0FBVyx1RUFBTSxDQUFDLDZEQUFXO0FBQzdCO0FBQ0E7QUFDQSxZQUFZLHVCQUF1QjtBQUNuQyxXQUFXLHVFQUFNLENBQUMsNkRBQVcsWUFBWSxzRUFBb0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFVBQVUsbUJBQW1CLFFBQVE7QUFDeEU7QUFDQSxxQkFBcUIsRUFBRTtBQUN2QjtBQUNBLG1DQUFtQyxVQUFVLG1CQUFtQixTQUFTO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsV0FBVztBQUN0RSwrREFBK0QsUUFBUTtBQUN2RSxtQ0FBbUMsVUFBVSxzQkFBc0IsWUFBWSwrQkFBK0IsYUFBYTtBQUMzSDtBQUNBO0FBQ0EsbUNBQW1DLFVBQVUsdUJBQXVCLFFBQVE7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZEQUFXO0FBQ3pCLFlBQVksNkRBQVc7QUFDdkIsY0FBYyw2REFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzRUFBb0I7QUFDMUM7QUFDQTtBQUNBLG9CQUFvQixzRUFBb0I7QUFDeEM7QUFDQTtBQUNBLHNCQUFzQixzRUFBb0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsZ0VBQWM7QUFDekM7QUFDQTtBQUNBLDBCQUEwQiwrREFBYTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsbUNBQW1DLDZEQUFXO0FBQzlDLDRCQUE0QixzRUFBb0IsQ0FBQyxrRUFBZ0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDZEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZiwrQkFBK0IsNkRBQVc7QUFDMUMsNEJBQTRCLGtFQUFnQjtBQUM1Qyw2QkFBNkIsc0VBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4REFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0VBQW9CO0FBQ3pDLDBDQUEwQyw2REFBVztBQUNyRCwyQkFBMkIsc0VBQW9CO0FBQy9DLG9CQUFvQiwwRUFBUyxDQUFDLDZEQUFXO0FBQ3pDLFlBQVksc0VBQW9CO0FBQ2hDO0FBQ0E7QUFDQSwyQkFBMkIsaUVBQVcsYUFBYSwwRUFBUyw4Q0FBOEMsc0VBQW9CO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix1RUFBTSxDQUFDLDZEQUFXLFlBQVksc0VBQW9CO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHNFQUFvQjtBQUMvQyxvQkFBb0IsMEVBQVMsQ0FBQyw2REFBVztBQUN6QyxZQUFZLHNFQUFvQjtBQUNoQztBQUNBO0FBQ0EsMkJBQTJCLGlFQUFXLHlDQUF5QyxzRUFBb0I7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNFQUFvQjtBQUM1QztBQUNBLHFCQUFxQiw2REFBVztBQUNoQyxrQ0FBa0MsdUVBQU07QUFDeEM7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlFQUFXO0FBQ3RDLGtDQUFrQywwRUFBUztBQUMzQyxZQUFZLHNFQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpRUFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlFQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUVBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsdUVBQU0sQ0FBQyw2REFBVztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsaUVBQVc7QUFDNUMsb0JBQW9CLDBFQUFTLENBQUMsNkRBQVc7QUFDekM7QUFDQTtBQUNBLGdCQUFnQixnREFBTSxHQUFHLHVCQUF1QjtBQUNoRDtBQUNBLHFCQUFxQixzRUFBb0I7QUFDekM7QUFDQSw0QkFBNEIsc0VBQW9CO0FBQ2hELGdDQUFnQyxJQUFJLHNFQUFvQixlQUFlO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNFQUFvQjtBQUM5QyxpQkFBaUI7QUFDakIscUJBQXFCLHNFQUFvQjtBQUN6QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNFQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkRBQVcsQ0FBQyxpRUFBZTtBQUMxQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZXhhbXBsZXMvbG9naW4td2l0aC1wYXNzcG9ydC1ldmVudHMvLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3dhbGxldEAyLjAuNC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvd2FsbGV0L2Rpc3QvZXNtL3dhbGxldC5qcz84MjY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ5dGVzVG9IZXgsIGJ5dGVzVG9VbnByZWZpeGVkSGV4LCBjb25jYXRCeXRlcywgZXF1YWxzQnl0ZXMsIGltcG9ydFB1YmxpYywgaXNWYWxpZFByaXZhdGUsIGlzVmFsaWRQdWJsaWMsIHByaXZhdGVUb0FkZHJlc3MsIHByaXZhdGVUb1B1YmxpYywgcHVibGljVG9BZGRyZXNzLCByYW5kb21CeXRlcywgdG9DaGVja3N1bUFkZHJlc3MsIHVucHJlZml4ZWRIZXhUb0J5dGVzLCB1dGY4VG9CeXRlcywgfSBmcm9tICdAZXRoZXJldW1qcy91dGlsJztcbmltcG9ydCB7IGJhc2U1OGNoZWNrIH0gZnJvbSAnQHNjdXJlL2Jhc2UnO1xuaW1wb3J0ICogYXMgYWVzIGZyb20gJ2V0aGVyZXVtLWNyeXB0b2dyYXBoeS9hZXMuanMnO1xuaW1wb3J0IHsga2VjY2FrMjU2IH0gZnJvbSAnZXRoZXJldW0tY3J5cHRvZ3JhcGh5L2tlY2Nhay5qcyc7XG5pbXBvcnQgeyBwYmtkZjIgfSBmcm9tICdldGhlcmV1bS1jcnlwdG9ncmFwaHkvcGJrZGYyLmpzJztcbmltcG9ydCB7IHNjcnlwdCB9IGZyb20gJ2V0aGVyZXVtLWNyeXB0b2dyYXBoeS9zY3J5cHQuanMnO1xuaW1wb3J0IHsgc2hhMjU2IH0gZnJvbSAnZXRoZXJldW0tY3J5cHRvZ3JhcGh5L3NoYTI1Ni5qcyc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmNvbnN0IGJzNThjaGVjayA9IGJhc2U1OGNoZWNrKHNoYTI1Nik7XG5mdW5jdGlvbiBzY3J5cHRWMShwYXNzd29yZCwgc2FsdCwga2RmcGFyYW1zKSB7XG4gICAgY29uc3QgeyBOLCBQLCBSLCBEa0xlbiB9ID0ga2RmcGFyYW1zO1xuICAgIHJldHVybiBzY3J5cHQocGFzc3dvcmQsIHNhbHQsIE4sIFAsIFIsIERrTGVuKTtcbn1cbmZ1bmN0aW9uIHNjcnlwdFYzKHBhc3N3b3JkLCBrZGZwYXJhbXMpIHtcbiAgICBjb25zdCB7IHNhbHQsIG4sIHAsIHIsIGRrbGVuIH0gPSBrZGZwYXJhbXM7XG4gICAgcmV0dXJuIHNjcnlwdCh1dGY4VG9CeXRlcyhwYXNzd29yZCksIHNhbHQsIG4sIHAsIHIsIGRrbGVuKTtcbn1cbmZ1bmN0aW9uIHNjcnlwdFYzT3V0KHBhc3N3b3JkLCBrZGZwYXJhbXMpIHtcbiAgICBjb25zdCB7IHNhbHQsIG4sIHAsIHIsIGRrbGVuIH0gPSBrZGZwYXJhbXM7XG4gICAgcmV0dXJuIHNjcnlwdCh1dGY4VG9CeXRlcyhwYXNzd29yZCksIHVucHJlZml4ZWRIZXhUb0J5dGVzKHNhbHQpLCBuLCBwLCByLCBka2xlbik7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUhleFN0cmluZyhwYXJhbU5hbWUsIHN0ciwgbGVuZ3RoKSB7XG4gICAgaWYgKHN0ci50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJzB4JykpIHtcbiAgICAgICAgc3RyID0gc3RyLnNsaWNlKDIpO1xuICAgIH1cbiAgICBpZiAoIXN0ciAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBpZiAobGVuZ3RoICUgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbGVuZ3RoIGFyZ3VtZW50LCBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyYCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiBzdHIubGVuZ3RoICE9PSBsZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkICR7cGFyYW1OYW1lfSwgc3RyaW5nIG11c3QgYmUgJHtsZW5ndGh9IGhleCBjaGFyYWN0ZXJzYCk7XG4gICAgfVxuICAgIGlmICghL14oWzAtOWEtZl17Mn0pKyQvaS50ZXN0KHN0cikpIHtcbiAgICAgICAgY29uc3QgaG93TWFueSA9IHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInID8gbGVuZ3RoIDogJ2VtcHR5IG9yIGEgbm9uLXplcm8gZXZlbiBudW1iZXIgb2YnO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgJHtwYXJhbU5hbWV9LCBzdHJpbmcgbXVzdCBiZSAke2hvd01hbnl9IGhleCBjaGFyYWN0ZXJzYCk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUJ5dGVzKHBhcmFtTmFtZSwgYnl0ZXMsIGxlbmd0aCkge1xuICAgIGlmICghKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHtcbiAgICAgICAgY29uc3QgaG93TWFueUhleCA9IHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInID8gYCR7bGVuZ3RoICogMn1gIDogJ2VtcHR5IG9yIGEgbm9uLXplcm8gZXZlbiBudW1iZXIgb2YnO1xuICAgICAgICBjb25zdCBob3dNYW55Qnl0ZXMgPSB0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyA/IGAgKCR7bGVuZ3RofSBieXRlcylgIDogJyc7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCAke3BhcmFtTmFtZX0sIG11c3QgYmUgYSBzdHJpbmcgKCR7aG93TWFueUhleH0gaGV4IGNoYXJhY3RlcnMpIG9yIFVpbnQ4QXJyYXkke2hvd01hbnlCeXRlc31gKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInICYmIGJ5dGVzLmxlbmd0aCAhPT0gbGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCAke3BhcmFtTmFtZX0sIFVpbnQ4QXJyYXkgbXVzdCBiZSAke2xlbmd0aH0gYnl0ZXNgKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuZnVuY3Rpb24gbWVyZ2VUb1YzUGFyYW1zV2l0aERlZmF1bHRzKHBhcmFtcykge1xuICAgIGNvbnN0IHYzRGVmYXVsdHMgPSB7XG4gICAgICAgIGNpcGhlcjogJ2Flcy0xMjgtY3RyJyxcbiAgICAgICAga2RmOiAnc2NyeXB0JyxcbiAgICAgICAgc2FsdDogcmFuZG9tQnl0ZXMoMzIpLFxuICAgICAgICBpdjogcmFuZG9tQnl0ZXMoMTYpLFxuICAgICAgICB1dWlkOiByYW5kb21CeXRlcygxNiksXG4gICAgICAgIGRrbGVuOiAzMixcbiAgICAgICAgYzogMjYyMTQ0LFxuICAgICAgICBuOiAyNjIxNDQsXG4gICAgICAgIHI6IDgsXG4gICAgICAgIHA6IDEsXG4gICAgfTtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICByZXR1cm4gdjNEZWZhdWx0cztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMuc2FsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGFyYW1zLnNhbHQgPSB1bnByZWZpeGVkSGV4VG9CeXRlcyh2YWxpZGF0ZUhleFN0cmluZygnc2FsdCcsIHBhcmFtcy5zYWx0KSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyYW1zLml2ID09PSAnc3RyaW5nJykge1xuICAgICAgICBwYXJhbXMuaXYgPSB1bnByZWZpeGVkSGV4VG9CeXRlcyh2YWxpZGF0ZUhleFN0cmluZygnaXYnLCBwYXJhbXMuaXYsIDMyKSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyYW1zLnV1aWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhcmFtcy51dWlkID0gdW5wcmVmaXhlZEhleFRvQnl0ZXModmFsaWRhdGVIZXhTdHJpbmcoJ3V1aWQnLCBwYXJhbXMudXVpZCwgMzIpKTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5zYWx0KSB7XG4gICAgICAgIHZhbGlkYXRlQnl0ZXMoJ3NhbHQnLCBwYXJhbXMuc2FsdCk7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuaXYpIHtcbiAgICAgICAgdmFsaWRhdGVCeXRlcygnaXYnLCBwYXJhbXMuaXYsIDE2KTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy51dWlkKSB7XG4gICAgICAgIHZhbGlkYXRlQnl0ZXMoJ3V1aWQnLCBwYXJhbXMudXVpZCwgMTYpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi52M0RlZmF1bHRzLFxuICAgICAgICAuLi5wYXJhbXMsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGtkZlBhcmFtc0ZvclBCS0RGKG9wdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBka2xlbjogb3B0cy5ka2xlbixcbiAgICAgICAgc2FsdDogb3B0cy5zYWx0LFxuICAgICAgICBjOiBvcHRzLmMsXG4gICAgICAgIHByZjogJ2htYWMtc2hhMjU2JyxcbiAgICB9O1xufVxuZnVuY3Rpb24ga2RmUGFyYW1zRm9yU2NyeXB0KG9wdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBka2xlbjogb3B0cy5ka2xlbixcbiAgICAgICAgc2FsdDogb3B0cy5zYWx0LFxuICAgICAgICBuOiBvcHRzLm4sXG4gICAgICAgIHA6IG9wdHMucCxcbiAgICAgICAgcjogb3B0cy5yLFxuICAgIH07XG59XG4vLyB3YWxsZXQgaW1wbGVtZW50YXRpb25cbmV4cG9ydCBjbGFzcyBXYWxsZXQge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGVLZXksIHB1YmxpY0tleSA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnByaXZhdGVLZXkgPSBwcml2YXRlS2V5O1xuICAgICAgICB0aGlzLnB1YmxpY0tleSA9IHB1YmxpY0tleTtcbiAgICAgICAgaWYgKHByaXZhdGVLZXkgJiYgcHVibGljS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzdXBwbHkgYm90aCBhIHByaXZhdGUgYW5kIGEgcHVibGljIGtleSB0byB0aGUgY29uc3RydWN0b3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJpdmF0ZUtleSAmJiAhaXNWYWxpZFByaXZhdGUocHJpdmF0ZUtleSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJpdmF0ZSBrZXkgZG9lcyBub3Qgc2F0aXNmeSB0aGUgY3VydmUgcmVxdWlyZW1lbnRzIChpZS4gaXQgaXMgaW52YWxpZCknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHVibGljS2V5ICYmICFpc1ZhbGlkUHVibGljKHB1YmxpY0tleSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwdWJsaWMga2V5Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc3RhdGljIG1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2UgYmFzZWQgb24gYSBuZXcgcmFuZG9tIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpY2FwRGlyZWN0IHNldHRpbmcgdGhpcyB0byBgdHJ1ZWAgd2lsbCBnZW5lcmF0ZSBhbiBhZGRyZXNzIHN1aXRhYmxlIGZvciB0aGUgYElDQVAgRGlyZWN0IG1vZGVgXG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlKGljYXBEaXJlY3QgPSBmYWxzZSkge1xuICAgICAgICBpZiAoaWNhcERpcmVjdCkge1xuICAgICAgICAgICAgY29uc3QgbWF4ID0gQmlnSW50KCcweDA4OGY5MjRlZWNlZWRhN2ZlOTJlMWY1YjBmZmZmZmZmZmZmZmZmZmYnKTtcbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcml2YXRlS2V5ID0gcmFuZG9tQnl0ZXMoMzIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhleCA9IGJ5dGVzVG9VbnByZWZpeGVkSGV4KHByaXZhdGVUb0FkZHJlc3MocHJpdmF0ZUtleSkpO1xuICAgICAgICAgICAgICAgIGlmIChCaWdJbnQoJzB4JyArIGhleCkgPD0gbWF4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgV2FsbGV0KHByaXZhdGVLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV2FsbGV0KHJhbmRvbUJ5dGVzKDMyKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluc3RhbmNlIHdoZXJlIHRoZSBhZGRyZXNzIGlzIHZhbGlkIGFnYWluc3QgdGhlIHN1cHBsaWVkIHBhdHRlcm4gKCoqdGhpcyB3aWxsIGJlIHZlcnkgc2xvdyoqKVxuICAgICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVZhbml0eUFkZHJlc3MocGF0dGVybikge1xuICAgICAgICBpZiAoIShwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSkge1xuICAgICAgICAgICAgcGF0dGVybiA9IG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgY29uc3QgcHJpdmF0ZUtleSA9IHJhbmRvbUJ5dGVzKDMyKTtcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBwcml2YXRlVG9BZGRyZXNzKHByaXZhdGVLZXkpO1xuICAgICAgICAgICAgaWYgKHBhdHRlcm4udGVzdChieXRlc1RvVW5wcmVmaXhlZEhleChhZGRyZXNzKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFdhbGxldChwcml2YXRlS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2UgYmFzZWQgb24gYSBwdWJsaWMga2V5IChjZXJ0YWluIG1ldGhvZHMgd2lsbCBub3QgYmUgYXZhaWxhYmxlKVxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgb25seSBhY2NlcHRzIHVuY29tcHJlc3NlZCBFdGhlcmV1bS1zdHlsZSBwdWJsaWMga2V5cywgdW5sZXNzXG4gICAgICogdGhlIGBub25TdHJpY3RgIGZsYWcgaXMgc2V0IHRvIHRydWUuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21QdWJsaWNLZXkocHVibGljS2V5LCBub25TdHJpY3QgPSBmYWxzZSkge1xuICAgICAgICBpZiAobm9uU3RyaWN0KSB7XG4gICAgICAgICAgICBwdWJsaWNLZXkgPSBpbXBvcnRQdWJsaWMocHVibGljS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFdhbGxldCh1bmRlZmluZWQsIHB1YmxpY0tleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBiYXNlZCBvbiBhIEJJUDMyIGV4dGVuZGVkIHB1YmxpYyBrZXkgKHhwdWIpXG4gICAgICovXG4gICAgc3RhdGljIGZyb21FeHRlbmRlZFB1YmxpY0tleShleHRlbmRlZFB1YmxpY0tleSkge1xuICAgICAgICBpZiAoZXh0ZW5kZWRQdWJsaWNLZXkuc2xpY2UoMCwgNCkgIT09ICd4cHViJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYW4gZXh0ZW5kZWQgcHVibGljIGtleScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IGJzNThjaGVjay5kZWNvZGUoZXh0ZW5kZWRQdWJsaWNLZXkpLnN1YmFycmF5KDQ1KTtcbiAgICAgICAgLy8gQ29udmVydCB0byBhbiBFdGhlcmV1bSBwdWJsaWMga2V5XG4gICAgICAgIHJldHVybiBXYWxsZXQuZnJvbVB1YmxpY0tleShwdWJsaWNLZXksIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2UgYmFzZWQgb24gYSByYXcgcHJpdmF0ZSBrZXlcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVByaXZhdGVLZXkocHJpdmF0ZUtleSkge1xuICAgICAgICByZXR1cm4gbmV3IFdhbGxldChwcml2YXRlS2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluc3RhbmNlIGJhc2VkIG9uIGEgQklQMzIgZXh0ZW5kZWQgcHJpdmF0ZSBrZXkgKHhwcnYpXG4gICAgICovXG4gICAgc3RhdGljIGZyb21FeHRlbmRlZFByaXZhdGVLZXkoZXh0ZW5kZWRQcml2YXRlS2V5KSB7XG4gICAgICAgIGlmIChleHRlbmRlZFByaXZhdGVLZXkuc2xpY2UoMCwgNCkgIT09ICd4cHJ2Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYW4gZXh0ZW5kZWQgcHJpdmF0ZSBrZXknKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0bXAgPSBiczU4Y2hlY2suZGVjb2RlKGV4dGVuZGVkUHJpdmF0ZUtleSk7XG4gICAgICAgIGlmICh0bXBbNDVdICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZXh0ZW5kZWQgcHJpdmF0ZSBrZXknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gV2FsbGV0LmZyb21Qcml2YXRlS2V5KHRtcC5zdWJhcnJheSg0NikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbXBvcnQgYSB3YWxsZXQgKFZlcnNpb24gMSBvZiB0aGUgRXRoZXJldW0gd2FsbGV0IGZvcm1hdCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5wdXQgQSBKU09OIHNlcmlhbGl6ZWQgc3RyaW5nLCBvciBhbiBvYmplY3QgcmVwcmVzZW50aW5nIFYxIEtleXN0b3JlLlxuICAgICAqIEBwYXJhbSBwYXNzd29yZCBUaGUga2V5c3RvcmUgcGFzc3dvcmQuXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGZyb21WMShpbnB1dCwgcGFzc3dvcmQpIHtcbiAgICAgICAgY29uc3QganNvbiA9IHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyBpbnB1dCA6IEpTT04ucGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAoanNvbi5WZXJzaW9uICE9PSAnMScpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGEgVjEgV2FsbGV0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb24uQ3J5cHRvLktleUhlYWRlci5LZGYgIT09ICdzY3J5cHQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGtleSBkZXJpdmF0aW9uIHNjaGVtZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtkZnBhcmFtcyA9IGpzb24uQ3J5cHRvLktleUhlYWRlci5LZGZQYXJhbXM7XG4gICAgICAgIGNvbnN0IHNhbHQgPSB1bnByZWZpeGVkSGV4VG9CeXRlcyhqc29uLkNyeXB0by5TYWx0KTtcbiAgICAgICAgY29uc3QgZGVyaXZlZEtleSA9IGF3YWl0IHNjcnlwdFYxKHV0ZjhUb0J5dGVzKHBhc3N3b3JkKSwgc2FsdCwga2RmcGFyYW1zKTtcbiAgICAgICAgY29uc3QgY2lwaGVydGV4dCA9IHVucHJlZml4ZWRIZXhUb0J5dGVzKGpzb24uQ3J5cHRvLkNpcGhlclRleHQpO1xuICAgICAgICBjb25zdCBtYWMgPSBrZWNjYWsyNTYoY29uY2F0Qnl0ZXMoZGVyaXZlZEtleS5zdWJhcnJheSgxNiwgMzIpLCBjaXBoZXJ0ZXh0KSk7XG4gICAgICAgIGlmIChieXRlc1RvVW5wcmVmaXhlZEhleChtYWMpICE9PSBqc29uLkNyeXB0by5NQUMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignS2V5IGRlcml2YXRpb24gZmFpbGVkIC0gcG9zc2libHkgd3JvbmcgcGFzc3BocmFzZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlZWQgPSBhd2FpdCBhZXMuZGVjcnlwdChjaXBoZXJ0ZXh0LCBrZWNjYWsyNTYoZGVyaXZlZEtleS5zdWJhcnJheSgwLCAxNikpLnN1YmFycmF5KDAsIDE2KSwgdW5wcmVmaXhlZEhleFRvQnl0ZXMoanNvbi5DcnlwdG8uSVYpLCAnYWVzLTEyOC1jYmMnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBXYWxsZXQoc2VlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltcG9ydCBhIHdhbGxldCAoVmVyc2lvbiAzIG9mIHRoZSBFdGhlcmV1bSB3YWxsZXQgZm9ybWF0KS4gU2V0IGBub25TdHJpY3RgIHRydWUgdG8gYWNjZXB0IGZpbGVzIHdpdGggbWl4ZWQtY2Fwcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbnB1dCBBIEpTT04gc2VyaWFsaXplZCBzdHJpbmcsIG9yIGFuIG9iamVjdCByZXByZXNlbnRpbmcgVjMgS2V5c3RvcmUuXG4gICAgICogQHBhcmFtIHBhc3N3b3JkIFRoZSBrZXlzdG9yZSBwYXNzd29yZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZnJvbVYzKGlucHV0LCBwYXNzd29yZCwgbm9uU3RyaWN0ID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QganNvbiA9IHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyBpbnB1dCA6IEpTT04ucGFyc2Uobm9uU3RyaWN0ID8gaW5wdXQudG9Mb3dlckNhc2UoKSA6IGlucHV0KTtcbiAgICAgICAgaWYgKGpzb24udmVyc2lvbiAhPT0gMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSBWMyB3YWxsZXQnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGVyaXZlZEtleSwga2RmcGFyYW1zO1xuICAgICAgICBpZiAoanNvbi5jcnlwdG8ua2RmID09PSAnc2NyeXB0Jykge1xuICAgICAgICAgICAga2RmcGFyYW1zID0ganNvbi5jcnlwdG8ua2RmcGFyYW1zO1xuICAgICAgICAgICAgLy8gRklYTUU6IHN1cHBvcnQgcHJvZ3Jlc3MgcmVwb3J0aW5nIGNhbGxiYWNrXG4gICAgICAgICAgICBkZXJpdmVkS2V5ID0gYXdhaXQgc2NyeXB0VjNPdXQocGFzc3dvcmQsIGtkZnBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoanNvbi5jcnlwdG8ua2RmID09PSAncGJrZGYyJykge1xuICAgICAgICAgICAga2RmcGFyYW1zID0ganNvbi5jcnlwdG8ua2RmcGFyYW1zO1xuICAgICAgICAgICAgaWYgKGtkZnBhcmFtcy5wcmYgIT09ICdobWFjLXNoYTI1NicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHBhcmFtZXRlcnMgdG8gUEJLREYyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXJpdmVkS2V5ID0gYXdhaXQgcGJrZGYyKHV0ZjhUb0J5dGVzKHBhc3N3b3JkKSwgdW5wcmVmaXhlZEhleFRvQnl0ZXMoa2RmcGFyYW1zLnNhbHQpLCBrZGZwYXJhbXMuYywga2RmcGFyYW1zLmRrbGVuLCAnc2hhMjU2Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGtleSBkZXJpdmF0aW9uIHNjaGVtZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNpcGhlcnRleHQgPSB1bnByZWZpeGVkSGV4VG9CeXRlcyhqc29uLmNyeXB0by5jaXBoZXJ0ZXh0KTtcbiAgICAgICAgY29uc3QgbWFjID0ga2VjY2FrMjU2KGNvbmNhdEJ5dGVzKGRlcml2ZWRLZXkuc3ViYXJyYXkoMTYsIDMyKSwgY2lwaGVydGV4dCkpO1xuICAgICAgICBpZiAoYnl0ZXNUb1VucHJlZml4ZWRIZXgobWFjKSAhPT0ganNvbi5jcnlwdG8ubWFjKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0tleSBkZXJpdmF0aW9uIGZhaWxlZCAtIHBvc3NpYmx5IHdyb25nIHBhc3NwaHJhc2UnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWVkID0gYXdhaXQgYWVzLmRlY3J5cHQoY2lwaGVydGV4dCwgZGVyaXZlZEtleS5zdWJhcnJheSgwLCAxNiksIHVucHJlZml4ZWRIZXhUb0J5dGVzKGpzb24uY3J5cHRvLmNpcGhlcnBhcmFtcy5pdiksIGpzb24uY3J5cHRvLmNpcGhlcik7XG4gICAgICAgIHJldHVybiBuZXcgV2FsbGV0KHNlZWQpO1xuICAgIH1cbiAgICAvKlxuICAgICAqIEltcG9ydCBhbiBFdGhlcmV1bSBQcmUgU2FsZSB3YWxsZXQuXG4gICAgICogQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL3B5ZXRoc2FsZXRvb2wvYmxvYi9tYXN0ZXIvcHlldGhzYWxldG9vbC5weVxuICAgICAqIEpTT04gZmllbGRzOiBlbmNzZWVkLCBldGhhZGRyLCBidGNhZGRyLCBlbWFpbFxuICAgICAqXG4gICAgICogQHBhcmFtIGlucHV0IEEgSlNPTiBzZXJpYWxpemVkIHN0cmluZywgb3IgYW4gb2JqZWN0IHJlcHJlc2VudGluZyBFdGhTYWxlIEtleXN0b3JlLlxuICAgICAqIEBwYXJhbSBwYXNzd29yZCBUaGUga2V5c3RvcmUgcGFzc3dvcmQuXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGZyb21FdGhTYWxlKGlucHV0LCBwYXNzd29yZCkge1xuICAgICAgICBjb25zdCBqc29uID0gdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyA/IGlucHV0IDogSlNPTi5wYXJzZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IGVuY3NlZWQgPSB1bnByZWZpeGVkSGV4VG9CeXRlcyhqc29uLmVuY3NlZWQpO1xuICAgICAgICAvLyBrZXkgZGVyaXZhdGlvblxuICAgICAgICBjb25zdCBwYXNzID0gdXRmOFRvQnl0ZXMocGFzc3dvcmQpO1xuICAgICAgICBjb25zdCBkZXJpdmVkS2V5ID0gKGF3YWl0IHBia2RmMihwYXNzLCBwYXNzLCAyMDAwLCAzMiwgJ3NoYTI1NicpKS5zdWJhcnJheSgwLCAxNik7XG4gICAgICAgIC8vIHNlZWQgZGVjb2RpbmcgKElWIGlzIGZpcnN0IDE2IGJ5dGVzKVxuICAgICAgICAvLyBOT1RFOiBjcnlwdG8gKGRlcml2ZWQgZnJvbSBvcGVuc3NsKSB3aGVuIHVzZWQgd2l0aCBhZXMtKi1jYmMgd2lsbCBoYW5kbGUgUEtDUyM3IHBhZGRpbmcgaW50ZXJuYWxseVxuICAgICAgICAvLyAgICAgICBzZWUgYWxzbyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTYxNDc3MC80OTY0ODE5XG4gICAgICAgIGNvbnN0IHNlZWQgPSBhd2FpdCBhZXMuZGVjcnlwdChlbmNzZWVkLnN1YmFycmF5KDE2KSwgZGVyaXZlZEtleSwgZW5jc2VlZC5zdWJhcnJheSgwLCAxNiksICdhZXMtMTI4LWNiYycsIHRydWUpO1xuICAgICAgICBjb25zdCB3YWxsZXQgPSBuZXcgV2FsbGV0KGtlY2NhazI1NihzZWVkKSk7XG4gICAgICAgIGlmIChieXRlc1RvVW5wcmVmaXhlZEhleCh3YWxsZXQuZ2V0QWRkcmVzcygpKSAhPT0ganNvbi5ldGhhZGRyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlY29kZWQga2V5IG1pc21hdGNoIC0gcG9zc2libHkgd3JvbmcgcGFzc3BocmFzZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3YWxsZXQ7XG4gICAgfVxuICAgIC8vIHByaXZhdGUgZ2V0dGVyc1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHdhbGxldCdzIHB1YmxpYyBrZXkuXG4gICAgICovXG4gICAgZ2V0IHB1YktleSgpIHtcbiAgICAgICAgaWYgKHRoaXMucHVibGljS2V5ID09PSB1bmRlZmluZWQgfHwgdGhpcy5wdWJsaWNLZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucHVibGljS2V5ID0gcHJpdmF0ZVRvUHVibGljKHRoaXMucHJpdmF0ZUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHVibGljS2V5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3YWxsZXQncyBwcml2YXRlIGtleS5cbiAgICAgKi9cbiAgICBnZXQgcHJpdktleSgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJpdmF0ZUtleSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMucHJpdmF0ZUtleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGlzIGEgcHVibGljIGtleSBvbmx5IHdhbGxldCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByaXZhdGVLZXk7XG4gICAgfVxuICAgIC8vIHB1YmxpYyBpbnN0YW5jZSBtZXRob2RzXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgd2FsbGV0J3MgcHJpdmF0ZSBrZXkuXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRQcml2YXRlS2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcml2S2V5O1xuICAgIH1cbiAgICBnZXRQcml2YXRlS2V5U3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYnl0ZXNUb0hleCh0aGlzLnByaXZLZXkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3YWxsZXQncyBwdWJsaWMga2V5LlxuICAgICAqL1xuICAgIGdldFB1YmxpY0tleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHViS2V5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3YWxsZXQncyBwdWJsaWMga2V5IGFzIGEgXCIweFwiIHByZWZpeGVkIGhleCBzdHJpbmdcbiAgICAgKi9cbiAgICBnZXRQdWJsaWNLZXlTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBieXRlc1RvSGV4KHRoaXMuZ2V0UHVibGljS2V5KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3YWxsZXQncyBhZGRyZXNzLlxuICAgICAqL1xuICAgIGdldEFkZHJlc3MoKSB7XG4gICAgICAgIHJldHVybiBwdWJsaWNUb0FkZHJlc3ModGhpcy5wdWJLZXkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3YWxsZXQncyBhZGRyZXNzIGFzIGEgXCIweFwiIHByZWZpeGVkIGhleCBzdHJpbmdcbiAgICAgKi9cbiAgICBnZXRBZGRyZXNzU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYnl0ZXNUb0hleCh0aGlzLmdldEFkZHJlc3MoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHdhbGxldCdzIHByaXZhdGUga2V5IGFzIGEgXCIweFwiIHByZWZpeGVkIGhleCBzdHJpbmcgY2hlY2tzdW1tZWRcbiAgICAgKiBhY2NvcmRpbmcgdG8gW0VJUCA1NV0oaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL0VJUHMvaXNzdWVzLzU1KS5cbiAgICAgKi9cbiAgICBnZXRDaGVja3N1bUFkZHJlc3NTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0b0NoZWNrc3VtQWRkcmVzcyh0aGlzLmdldEFkZHJlc3NTdHJpbmcoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gRXRoZXJlbSBWZXJzaW9uIDMgS2V5c3RvcmUgRm9ybWF0IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHdhbGxldFxuICAgICAqXG4gICAgICogQHBhcmFtIHBhc3N3b3JkIFRoZSBwYXNzd29yZCB1c2VkIHRvIGVuY3J5cHQgdGhlIEtleXN0b3JlLlxuICAgICAqIEBwYXJhbSBvcHRzIFRoZSBvcHRpb25zIGZvciB0aGUga2V5c3RvcmUuIFNlZSBbaXRzIHNwZWNdKGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS93aWtpL3dpa2kvV2ViMy1TZWNyZXQtU3RvcmFnZS1EZWZpbml0aW9uKSBmb3IgbW9yZSBpbmZvLlxuICAgICAqL1xuICAgIGFzeW5jIHRvVjMocGFzc3dvcmQsIG9wdHMpIHtcbiAgICAgICAgaWYgKHRoaXMucHJpdmF0ZUtleSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMucHJpdmF0ZUtleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGlzIGEgcHVibGljIGtleSBvbmx5IHdhbGxldCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHYzUGFyYW1zID0gbWVyZ2VUb1YzUGFyYW1zV2l0aERlZmF1bHRzKG9wdHMpO1xuICAgICAgICBsZXQga2RmUGFyYW1zO1xuICAgICAgICBsZXQgZGVyaXZlZEtleTtcbiAgICAgICAgc3dpdGNoICh2M1BhcmFtcy5rZGYpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwYmtkZjJcIiAvKiBLREZGdW5jdGlvbnMuUEJLREYgKi86XG4gICAgICAgICAgICAgICAga2RmUGFyYW1zID0ga2RmUGFyYW1zRm9yUEJLREYodjNQYXJhbXMpO1xuICAgICAgICAgICAgICAgIGRlcml2ZWRLZXkgPSBhd2FpdCBwYmtkZjIodXRmOFRvQnl0ZXMocGFzc3dvcmQpLCBrZGZQYXJhbXMuc2FsdCwga2RmUGFyYW1zLmMsIGtkZlBhcmFtcy5ka2xlbiwgJ3NoYTI1NicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjcnlwdFwiIC8qIEtERkZ1bmN0aW9ucy5TY3J5cHQgKi86XG4gICAgICAgICAgICAgICAga2RmUGFyYW1zID0ga2RmUGFyYW1zRm9yU2NyeXB0KHYzUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogc3VwcG9ydCBwcm9ncmVzcyByZXBvcnRpbmcgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBkZXJpdmVkS2V5ID0gYXdhaXQgc2NyeXB0VjMocGFzc3dvcmQsIGtkZlBhcmFtcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQga2RmJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2lwaGVydGV4dCA9IGF3YWl0IGFlcy5lbmNyeXB0KHRoaXMucHJpdktleSwgZGVyaXZlZEtleS5zdWJhcnJheSgwLCAxNiksIHYzUGFyYW1zLml2LCB2M1BhcmFtcy5jaXBoZXIsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgbWFjID0ga2VjY2FrMjU2KGNvbmNhdEJ5dGVzKGRlcml2ZWRLZXkuc3ViYXJyYXkoMTYsIDMyKSwgY2lwaGVydGV4dCkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogMyxcbiAgICAgICAgICAgIGlkOiB1dWlkdjQoeyByYW5kb206IHYzUGFyYW1zLnV1aWQgfSksXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gdGhlIG9mZmljaWFsIFYzIGtleXN0b3JlIHNwZWMgb21pdHMgdGhlIGFkZHJlc3Mga2V5XG4gICAgICAgICAgICBhZGRyZXNzOiBieXRlc1RvVW5wcmVmaXhlZEhleCh0aGlzLmdldEFkZHJlc3MoKSksXG4gICAgICAgICAgICBjcnlwdG86IHtcbiAgICAgICAgICAgICAgICBjaXBoZXJ0ZXh0OiBieXRlc1RvVW5wcmVmaXhlZEhleChjaXBoZXJ0ZXh0KSxcbiAgICAgICAgICAgICAgICBjaXBoZXJwYXJhbXM6IHsgaXY6IGJ5dGVzVG9VbnByZWZpeGVkSGV4KHYzUGFyYW1zLml2KSB9LFxuICAgICAgICAgICAgICAgIGNpcGhlcjogdjNQYXJhbXMuY2lwaGVyLFxuICAgICAgICAgICAgICAgIGtkZjogdjNQYXJhbXMua2RmLFxuICAgICAgICAgICAgICAgIGtkZnBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5rZGZQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHNhbHQ6IGJ5dGVzVG9VbnByZWZpeGVkSGV4KGtkZlBhcmFtcy5zYWx0KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1hYzogYnl0ZXNUb1VucHJlZml4ZWRIZXgobWFjKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc3VnZ2VzdGVkIGZpbGVuYW1lIGZvciBWMyBrZXlzdG9yZXMuXG4gICAgICovXG4gICAgZ2V0VjNGaWxlbmFtZSh0aW1lc3RhbXApIHtcbiAgICAgICAgLypcbiAgICAgICAgICogV2Ugd2FudCBhIHRpbWVzdGFtcCBsaWtlIDIwMTYtMDMtMTVUMTctMTEtMzMuMDA3NTk4Mjg4Wi4gRGF0ZSBmb3JtYXR0aW5nXG4gICAgICAgICAqIGlzIGEgcGFpbiBpbiBKYXZhc2NyaXB0LCBldmVyYm9keSBrbm93cyB0aGF0LiBXZSBjb3VsZCB1c2UgbW9tZW50LmpzLFxuICAgICAgICAgKiBidXQgZGVjaWRlIHRvIGRvIGl0IG1hbnVhbGx5IGluIG9yZGVyIHRvIHNhdmUgc3BhY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIHRvSlNPTigpIHJldHVybnMgYSBwcmV0dHkgY2xvc2UgdmVyc2lvbiwgc28gbGV0J3MgdXNlIGl0LiBJdCBpcyBub3QgVVRDIHRob3VnaCxcbiAgICAgICAgICogYnV0IGRvZXMgaXQgcmVhbGx5IG1hdHRlcj9cbiAgICAgICAgICpcbiAgICAgICAgICogQWx0ZXJuYXRpdmUgbWFudWFsIHdheSB3aXRoIHBhZGRpbmcgYW5kIERhdGUgZmllbGRzOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS83MjQ0Mjg4LzQ5NjQ4MTlcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHRzID0gdGltZXN0YW1wICE9PSB1bmRlZmluZWQgPyBuZXcgRGF0ZSh0aW1lc3RhbXApIDogbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICdVVEMtLScsXG4gICAgICAgICAgICB0cy50b0pTT04oKS5yZXBsYWNlKC86L2csICctJyksXG4gICAgICAgICAgICAnLS0nLFxuICAgICAgICAgICAgYnl0ZXNUb1VucHJlZml4ZWRIZXgodGhpcy5nZXRBZGRyZXNzKCkpLFxuICAgICAgICBdLmpvaW4oJycpO1xuICAgIH1cbiAgICBhc3luYyB0b1YzU3RyaW5nKHBhc3N3b3JkLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhd2FpdCB0aGlzLnRvVjMocGFzc3dvcmQsIG9wdHMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmVyaWZ5IHRoZSBwdWJsaWNLZXksIHByaXZhdGVLZXkgcGFpclxuICAgICAqXG4gICAgICogQHBhcmFtIHB1YmxpY0tleSB0aGUgcHVibGljIGtleSB0byB2ZXJpZnkgYWdhaW5zdCB0aGUgcHJpdmF0ZSBrZXkgb2YgdGhlIHdhbGxldFxuICAgICAqL1xuICAgIHZlcmlmeVB1YmxpY0tleShwdWJsaWNLZXkpIHtcbiAgICAgICAgaWYgKHRoaXMucHJpdmF0ZUtleSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZXF1YWxzQnl0ZXMocHJpdmF0ZVRvUHVibGljKHRoaXMucHJpdmF0ZUtleSksIHB1YmxpY0tleSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2FsbGV0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/.pnpm/@ethereumjs+wallet@2.0.4/node_modules/@ethereumjs/wallet/dist/esm/wallet.js\n");

/***/ })

};
;