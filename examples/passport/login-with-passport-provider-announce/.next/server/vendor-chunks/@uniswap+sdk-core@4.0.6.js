"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@uniswap+sdk-core@4.0.6";
exports.ids = ["vendor-chunks/@uniswap+sdk-core@4.0.6"];
exports.modules = {

/***/ "(ssr)/../../../node_modules/.pnpm/@uniswap+sdk-core@4.0.6/node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js":
/*!***************************************************************************************************************!*\
  !*** ../../../node_modules/.pnpm/@uniswap+sdk-core@4.0.6/node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ARGENT_WALLET_DETECTOR_ADDRESS: () => (/* binding */ ARGENT_WALLET_DETECTOR_ADDRESS),\n/* harmony export */   CHAIN_TO_ADDRESSES_MAP: () => (/* binding */ CHAIN_TO_ADDRESSES_MAP),\n/* harmony export */   ChainId: () => (/* binding */ ChainId),\n/* harmony export */   CurrencyAmount: () => (/* binding */ CurrencyAmount),\n/* harmony export */   ENS_REGISTRAR_ADDRESSES: () => (/* binding */ ENS_REGISTRAR_ADDRESSES),\n/* harmony export */   Ether: () => (/* binding */ Ether),\n/* harmony export */   Fraction: () => (/* binding */ Fraction),\n/* harmony export */   GOVERNANCE_ALPHA_V0_ADDRESSES: () => (/* binding */ GOVERNANCE_ALPHA_V0_ADDRESSES),\n/* harmony export */   GOVERNANCE_ALPHA_V1_ADDRESSES: () => (/* binding */ GOVERNANCE_ALPHA_V1_ADDRESSES),\n/* harmony export */   GOVERNANCE_BRAVO_ADDRESSES: () => (/* binding */ GOVERNANCE_BRAVO_ADDRESSES),\n/* harmony export */   MERKLE_DISTRIBUTOR_ADDRESS: () => (/* binding */ MERKLE_DISTRIBUTOR_ADDRESS),\n/* harmony export */   MIXED_ROUTE_QUOTER_V1_ADDRESSES: () => (/* binding */ MIXED_ROUTE_QUOTER_V1_ADDRESSES),\n/* harmony export */   MULTICALL_ADDRESSES: () => (/* binding */ MULTICALL_ADDRESSES),\n/* harmony export */   MaxUint256: () => (/* binding */ MaxUint256),\n/* harmony export */   NONFUNGIBLE_POSITION_MANAGER_ADDRESSES: () => (/* binding */ NONFUNGIBLE_POSITION_MANAGER_ADDRESSES),\n/* harmony export */   NativeCurrency: () => (/* binding */ NativeCurrency),\n/* harmony export */   NativeCurrencyName: () => (/* binding */ NativeCurrencyName),\n/* harmony export */   Percent: () => (/* binding */ Percent),\n/* harmony export */   Price: () => (/* binding */ Price),\n/* harmony export */   QUOTER_ADDRESSES: () => (/* binding */ QUOTER_ADDRESSES),\n/* harmony export */   Rounding: () => (/* binding */ Rounding),\n/* harmony export */   SOCKS_CONTROLLER_ADDRESSES: () => (/* binding */ SOCKS_CONTROLLER_ADDRESSES),\n/* harmony export */   SUPPORTED_CHAINS: () => (/* binding */ SUPPORTED_CHAINS),\n/* harmony export */   SWAP_ROUTER_02_ADDRESSES: () => (/* binding */ SWAP_ROUTER_02_ADDRESSES),\n/* harmony export */   TICK_LENS_ADDRESSES: () => (/* binding */ TICK_LENS_ADDRESSES),\n/* harmony export */   TIMELOCK_ADDRESSES: () => (/* binding */ TIMELOCK_ADDRESSES),\n/* harmony export */   Token: () => (/* binding */ Token),\n/* harmony export */   TradeType: () => (/* binding */ TradeType),\n/* harmony export */   UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS: () => (/* binding */ UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS),\n/* harmony export */   UNI_ADDRESSES: () => (/* binding */ UNI_ADDRESSES),\n/* harmony export */   V2_FACTORY_ADDRESS: () => (/* binding */ V2_FACTORY_ADDRESS),\n/* harmony export */   V2_FACTORY_ADDRESSES: () => (/* binding */ V2_FACTORY_ADDRESSES),\n/* harmony export */   V2_ROUTER_ADDRESS: () => (/* binding */ V2_ROUTER_ADDRESS),\n/* harmony export */   V2_ROUTER_ADDRESSES: () => (/* binding */ V2_ROUTER_ADDRESSES),\n/* harmony export */   V3_CORE_FACTORY_ADDRESSES: () => (/* binding */ V3_CORE_FACTORY_ADDRESSES),\n/* harmony export */   V3_MIGRATOR_ADDRESSES: () => (/* binding */ V3_MIGRATOR_ADDRESSES),\n/* harmony export */   WETH9: () => (/* binding */ WETH9),\n/* harmony export */   computePriceImpact: () => (/* binding */ computePriceImpact),\n/* harmony export */   sortedInsert: () => (/* binding */ sortedInsert),\n/* harmony export */   sqrt: () => (/* binding */ sqrt),\n/* harmony export */   validateAndParseAddress: () => (/* binding */ validateAndParseAddress)\n/* harmony export */ });\n/* harmony import */ var jsbi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsbi */ \"(ssr)/../../../node_modules/.pnpm/jsbi@3.2.5/node_modules/jsbi/dist/jsbi.mjs\");\n/* harmony import */ var tiny_invariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-invariant */ \"(ssr)/../../../node_modules/.pnpm/tiny-invariant@1.3.1/node_modules/tiny-invariant/dist/esm/tiny-invariant.js\");\n/* harmony import */ var decimal_js_light__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! decimal.js-light */ \"(ssr)/../../../node_modules/.pnpm/decimal.js-light@2.5.1/node_modules/decimal.js-light/decimal.mjs\");\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! big.js */ \"(ssr)/../../../node_modules/.pnpm/big.js@5.2.2/node_modules/big.js/big.mjs\");\n/* harmony import */ var toformat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! toformat */ \"(ssr)/../../../node_modules/.pnpm/toformat@2.0.0/node_modules/toformat/toFormat.js\");\n/* harmony import */ var toformat__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(toformat__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ethersproject_address__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ethersproject/address */ \"(ssr)/../../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/index.js\");\n\n\n\n\n\n\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar ChainId;\n\n(function (ChainId) {\n  ChainId[ChainId[\"MAINNET\"] = 1] = \"MAINNET\";\n  ChainId[ChainId[\"GOERLI\"] = 5] = \"GOERLI\";\n  ChainId[ChainId[\"SEPOLIA\"] = 11155111] = \"SEPOLIA\";\n  ChainId[ChainId[\"OPTIMISM\"] = 10] = \"OPTIMISM\";\n  ChainId[ChainId[\"OPTIMISM_GOERLI\"] = 420] = \"OPTIMISM_GOERLI\";\n  ChainId[ChainId[\"ARBITRUM_ONE\"] = 42161] = \"ARBITRUM_ONE\";\n  ChainId[ChainId[\"ARBITRUM_GOERLI\"] = 421613] = \"ARBITRUM_GOERLI\";\n  ChainId[ChainId[\"POLYGON\"] = 137] = \"POLYGON\";\n  ChainId[ChainId[\"POLYGON_MUMBAI\"] = 80001] = \"POLYGON_MUMBAI\";\n  ChainId[ChainId[\"CELO\"] = 42220] = \"CELO\";\n  ChainId[ChainId[\"CELO_ALFAJORES\"] = 44787] = \"CELO_ALFAJORES\";\n  ChainId[ChainId[\"GNOSIS\"] = 100] = \"GNOSIS\";\n  ChainId[ChainId[\"MOONBEAM\"] = 1284] = \"MOONBEAM\";\n  ChainId[ChainId[\"BNB\"] = 56] = \"BNB\";\n  ChainId[ChainId[\"AVALANCHE\"] = 43114] = \"AVALANCHE\";\n  ChainId[ChainId[\"BASE_GOERLI\"] = 84531] = \"BASE_GOERLI\";\n  ChainId[ChainId[\"BASE\"] = 8453] = \"BASE\";\n})(ChainId || (ChainId = {}));\n\nvar SUPPORTED_CHAINS = [ChainId.MAINNET, ChainId.OPTIMISM, ChainId.OPTIMISM_GOERLI, ChainId.ARBITRUM_ONE, ChainId.ARBITRUM_GOERLI, ChainId.POLYGON, ChainId.POLYGON_MUMBAI, ChainId.GOERLI, ChainId.SEPOLIA, ChainId.CELO_ALFAJORES, ChainId.CELO, ChainId.BNB, ChainId.AVALANCHE, ChainId.BASE, ChainId.BASE_GOERLI];\nvar NativeCurrencyName;\n\n(function (NativeCurrencyName) {\n  // Strings match input for CLI\n  NativeCurrencyName[\"ETHER\"] = \"ETH\";\n  NativeCurrencyName[\"MATIC\"] = \"MATIC\";\n  NativeCurrencyName[\"CELO\"] = \"CELO\";\n  NativeCurrencyName[\"GNOSIS\"] = \"XDAI\";\n  NativeCurrencyName[\"MOONBEAM\"] = \"GLMR\";\n  NativeCurrencyName[\"BNB\"] = \"BNB\";\n  NativeCurrencyName[\"AVAX\"] = \"AVAX\";\n})(NativeCurrencyName || (NativeCurrencyName = {}));\n\nvar _CHAIN_TO_ADDRESSES_M, _GOVERNANCE_ALPHA_V1_, _GOVERNANCE_BRAVO_ADD, _MERKLE_DISTRIBUTOR_A, _ARGENT_WALLET_DETECT, _SOCKS_CONTROLLER_ADD;\nvar DEFAULT_NETWORKS = [ChainId.MAINNET, ChainId.GOERLI];\n\nfunction constructSameAddressMap(address, additionalNetworks) {\n  if (additionalNetworks === void 0) {\n    additionalNetworks = [];\n  }\n\n  return DEFAULT_NETWORKS.concat(additionalNetworks).reduce(function (memo, chainId) {\n    memo[chainId] = address;\n    return memo;\n  }, {});\n}\n\nvar UNI_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984', [ChainId.OPTIMISM, ChainId.ARBITRUM_ONE, ChainId.POLYGON, ChainId.POLYGON_MUMBAI, ChainId.SEPOLIA]);\nvar UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS = '0x8B799381ac40b838BBA4131ffB26197C432AFe78';\nvar V2_FACTORY_ADDRESS = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f';\nvar V2_FACTORY_ADDRESSES = /*#__PURE__*/constructSameAddressMap(V2_FACTORY_ADDRESS);\nvar V2_ROUTER_ADDRESS = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D';\nvar V2_ROUTER_ADDRESSES = /*#__PURE__*/constructSameAddressMap(V2_ROUTER_ADDRESS); // Networks that share most of the same addresses i.e. Mainnet, Goerli, Optimism, Arbitrum, Polygon\n\nvar DEFAULT_ADDRESSES = {\n  v3CoreFactoryAddress: '0x1F98431c8aD98523631AE4a59f267346ea31F984',\n  multicallAddress: '0x1F98415757620B543A52E61c46B32eB19261F984',\n  quoterAddress: '0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6',\n  v3MigratorAddress: '0xA5644E29708357803b5A882D272c41cC0dF92B34',\n  nonfungiblePositionManagerAddress: '0xC36442b4a4522E871399CD717aBDD847Ab11FE88'\n};\n\nvar MAINNET_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  v1MixedRouteQuoterAddress: '0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E'\n});\n\nvar GOERLI_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  v1MixedRouteQuoterAddress: '0xBa60b6e6fF25488308789E6e0A65D838be34194e'\n});\n\nvar OPTIMISM_ADDRESSES = DEFAULT_ADDRESSES;\n\nvar ARBITRUM_ONE_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  multicallAddress: '0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB',\n  tickLensAddress: '0xbfd8137f7d1516D3ea5cA83523914859ec47F573'\n});\n\nvar POLYGON_ADDRESSES = DEFAULT_ADDRESSES; // celo v3 addresses\n\nvar CELO_ADDRESSES = {\n  v3CoreFactoryAddress: '0xAfE208a311B21f13EF87E33A90049fC17A7acDEc',\n  multicallAddress: '0x633987602DE5C4F337e3DbF265303A1080324204',\n  quoterAddress: '0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8',\n  v3MigratorAddress: '0x3cFd4d48EDfDCC53D3f173F596f621064614C582',\n  nonfungiblePositionManagerAddress: '0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A',\n  tickLensAddress: '0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D'\n}; // BNB v3 addresses\n\nvar BNB_ADDRESSES = {\n  v3CoreFactoryAddress: '0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7',\n  multicallAddress: '0x963Df249eD09c358A4819E39d9Cd5736c3087184',\n  quoterAddress: '0x78D78E420Da98ad378D7799bE8f4AF69033EB077',\n  v3MigratorAddress: '0x32681814957e0C13117ddc0c2aba232b5c9e760f',\n  nonfungiblePositionManagerAddress: '0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613',\n  tickLensAddress: '0xD9270014D396281579760619CCf4c3af0501A47C',\n  swapRouter02Address: '0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2'\n}; // optimism goerli addresses\n\nvar OPTIMISM_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10',\n  multicallAddress: '0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd',\n  quoterAddress: '0x9569CbA925c8ca2248772A9A4976A516743A246F',\n  v3MigratorAddress: '0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8',\n  nonfungiblePositionManagerAddress: '0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6',\n  tickLensAddress: '0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e'\n}; // arbitrum goerli v3 addresses\n\nvar ARBITRUM_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6',\n  multicallAddress: '0x8260CB40247290317a4c062F3542622367F206Ee',\n  quoterAddress: '0x1dd92b83591781D0C6d98d07391eea4b9a6008FA',\n  v3MigratorAddress: '0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3',\n  nonfungiblePositionManagerAddress: '0x622e4726a167799826d1E1D150b076A7725f5D81',\n  tickLensAddress: '0xb52429333da969a0C79a60930a4Bf0020E5D1DE8'\n}; // sepolia v3 addresses\n\nvar SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x0227628f3F023bb0B980b67D528571c95c6DaC1c',\n  multicallAddress: '0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07',\n  quoterAddress: '0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3',\n  v3MigratorAddress: '0x729004182cF005CEC8Bd85df140094b6aCbe8b15',\n  nonfungiblePositionManagerAddress: '0x1238536071E1c677A632429e3655c799b22cDA52',\n  tickLensAddress: '0xd7f33bcdb21b359c8ee6f0251d30e94832baad07'\n}; // Avalanche v3 addresses\n\nvar AVALANCHE_ADDRESSES = {\n  v3CoreFactoryAddress: '0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD',\n  multicallAddress: '0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2',\n  quoterAddress: '0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F',\n  v3MigratorAddress: '0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97',\n  nonfungiblePositionManagerAddress: '0x655C406EBFa14EE2006250925e54ec43AD184f8B',\n  tickLensAddress: '0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950',\n  swapRouter02Address: '0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE'\n};\nvar BASE_ADDRESSES = {\n  v3CoreFactoryAddress: '0x33128a8fC17869897dcE68Ed026d694621f6FDfD',\n  multicallAddress: '0x091e99cb1C49331a94dD62755D168E941AbD0693',\n  quoterAddress: '0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a',\n  v3MigratorAddress: '0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7',\n  nonfungiblePositionManagerAddress: '0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1',\n  tickLensAddress: '0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d',\n  swapRouter02Address: '0x2626664c2603336E57B271c5C0b26F421741e481'\n}; // Base Goerli v3 addresses\n\nvar BASE_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2',\n  multicallAddress: '0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439',\n  quoterAddress: '0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9',\n  v3MigratorAddress: '0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE',\n  nonfungiblePositionManagerAddress: '0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30',\n  tickLensAddress: '0x1acB873Ee909D0c98adB18e4474943249F931b92',\n  swapRouter02Address: '0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d'\n};\nvar CHAIN_TO_ADDRESSES_MAP = (_CHAIN_TO_ADDRESSES_M = {}, _CHAIN_TO_ADDRESSES_M[ChainId.MAINNET] = MAINNET_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM] = OPTIMISM_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_ONE] = ARBITRUM_ONE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.POLYGON] = POLYGON_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.POLYGON_MUMBAI] = POLYGON_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.GOERLI] = GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.CELO] = CELO_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.CELO_ALFAJORES] = CELO_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BNB] = BNB_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM_GOERLI] = OPTIMISM_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_GOERLI] = ARBITRUM_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.SEPOLIA] = SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.AVALANCHE] = AVALANCHE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BASE] = BASE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BASE_GOERLI] = BASE_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M);\n/* V3 Contract Addresses */\n\nvar V3_CORE_FACTORY_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].v3CoreFactoryAddress;\n  return memo;\n}, {}));\nvar V3_MIGRATOR_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var v3MigratorAddress = CHAIN_TO_ADDRESSES_MAP[chainId].v3MigratorAddress;\n\n  if (v3MigratorAddress) {\n    memo[chainId] = v3MigratorAddress;\n  }\n\n  return memo;\n}, {}));\nvar MULTICALL_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].multicallAddress;\n  return memo;\n}, {}));\n/**\r\n * The oldest V0 governance address\r\n */\n\nvar GOVERNANCE_ALPHA_V0_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F');\n/**\r\n * The older V1 governance address\r\n */\n\nvar GOVERNANCE_ALPHA_V1_ADDRESSES = (_GOVERNANCE_ALPHA_V1_ = {}, _GOVERNANCE_ALPHA_V1_[ChainId.MAINNET] = '0xC4e172459f1E7939D522503B81AFAaC1014CE6F6', _GOVERNANCE_ALPHA_V1_);\n/**\r\n * The latest governor bravo that is currently admin of timelock\r\n */\n\nvar GOVERNANCE_BRAVO_ADDRESSES = (_GOVERNANCE_BRAVO_ADD = {}, _GOVERNANCE_BRAVO_ADD[ChainId.MAINNET] = '0x408ED6354d4973f66138C91495F2f2FCbd8724C3', _GOVERNANCE_BRAVO_ADD);\nvar TIMELOCK_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x1a9C8182C09F50C8318d769245beA52c32BE35BC');\nvar MERKLE_DISTRIBUTOR_ADDRESS = (_MERKLE_DISTRIBUTOR_A = {}, _MERKLE_DISTRIBUTOR_A[ChainId.MAINNET] = '0x090D4613473dEE047c3f2706764f49E0821D256e', _MERKLE_DISTRIBUTOR_A);\nvar ARGENT_WALLET_DETECTOR_ADDRESS = (_ARGENT_WALLET_DETECT = {}, _ARGENT_WALLET_DETECT[ChainId.MAINNET] = '0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8', _ARGENT_WALLET_DETECT);\nvar QUOTER_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].quoterAddress;\n  return memo;\n}, {}));\nvar NONFUNGIBLE_POSITION_MANAGER_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var nonfungiblePositionManagerAddress = CHAIN_TO_ADDRESSES_MAP[chainId].nonfungiblePositionManagerAddress;\n\n  if (nonfungiblePositionManagerAddress) {\n    memo[chainId] = nonfungiblePositionManagerAddress;\n  }\n\n  return memo;\n}, {}));\nvar ENS_REGISTRAR_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/constructSameAddressMap('0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'));\nvar SOCKS_CONTROLLER_ADDRESSES = (_SOCKS_CONTROLLER_ADD = {}, _SOCKS_CONTROLLER_ADD[ChainId.MAINNET] = '0x65770b5283117639760beA3F867b69b3697a91dd', _SOCKS_CONTROLLER_ADD);\nvar TICK_LENS_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var tickLensAddress = CHAIN_TO_ADDRESSES_MAP[chainId].tickLensAddress;\n\n  if (tickLensAddress) {\n    memo[chainId] = tickLensAddress;\n  }\n\n  return memo;\n}, {}));\nvar MIXED_ROUTE_QUOTER_V1_ADDRESSES = /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var v1MixedRouteQuoterAddress = CHAIN_TO_ADDRESSES_MAP[chainId].v1MixedRouteQuoterAddress;\n\n  if (v1MixedRouteQuoterAddress) {\n    memo[chainId] = v1MixedRouteQuoterAddress;\n  }\n\n  return memo;\n}, {});\nvar SWAP_ROUTER_02_ADDRESSES = function SWAP_ROUTER_02_ADDRESSES(chainId) {\n  if (chainId == ChainId.BNB) {\n    return CHAIN_TO_ADDRESSES_MAP[chainId].swapRouter02Address;\n  }\n\n  return '0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45';\n};\n\nvar TradeType;\n\n(function (TradeType) {\n  TradeType[TradeType[\"EXACT_INPUT\"] = 0] = \"EXACT_INPUT\";\n  TradeType[TradeType[\"EXACT_OUTPUT\"] = 1] = \"EXACT_OUTPUT\";\n})(TradeType || (TradeType = {}));\n\nvar Rounding;\n\n(function (Rounding) {\n  Rounding[Rounding[\"ROUND_DOWN\"] = 0] = \"ROUND_DOWN\";\n  Rounding[Rounding[\"ROUND_HALF_UP\"] = 1] = \"ROUND_HALF_UP\";\n  Rounding[Rounding[\"ROUND_UP\"] = 2] = \"ROUND_UP\";\n})(Rounding || (Rounding = {}));\n\nvar MaxUint256 = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\n\nvar _toSignificantRoundin, _toFixedRounding;\nvar Decimal = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(decimal_js_light__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nvar Big = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(big_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar toSignificantRounding = (_toSignificantRoundin = {}, _toSignificantRoundin[Rounding.ROUND_DOWN] = Decimal.ROUND_DOWN, _toSignificantRoundin[Rounding.ROUND_HALF_UP] = Decimal.ROUND_HALF_UP, _toSignificantRoundin[Rounding.ROUND_UP] = Decimal.ROUND_UP, _toSignificantRoundin);\nvar toFixedRounding = (_toFixedRounding = {}, _toFixedRounding[Rounding.ROUND_DOWN] = 0, _toFixedRounding[Rounding.ROUND_HALF_UP] = 1, _toFixedRounding[Rounding.ROUND_UP] = 3, _toFixedRounding);\nvar Fraction = /*#__PURE__*/function () {\n  function Fraction(numerator, denominator) {\n    if (denominator === void 0) {\n      denominator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(1);\n    }\n\n    this.numerator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(numerator);\n    this.denominator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(denominator);\n  }\n\n  Fraction.tryParseFraction = function tryParseFraction(fractionish) {\n    if (fractionish instanceof jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"] || typeof fractionish === 'number' || typeof fractionish === 'string') return new Fraction(fractionish);\n    if ('numerator' in fractionish && 'denominator' in fractionish) return fractionish;\n    throw new Error('Could not parse fraction');\n  } // performs floor division\n  ;\n\n  var _proto = Fraction.prototype;\n\n  _proto.invert = function invert() {\n    return new Fraction(this.denominator, this.numerator);\n  };\n\n  _proto.add = function add(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n\n    if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(this.numerator, otherParsed.numerator), this.denominator);\n    }\n\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n\n  _proto.subtract = function subtract(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n\n    if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subtract(this.numerator, otherParsed.numerator), this.denominator);\n    }\n\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subtract(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n\n  _proto.lessThan = function lessThan(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n\n  _proto.equalTo = function equalTo(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n\n  _proto.greaterThan = function greaterThan(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].greaterThan(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n\n  _proto.multiply = function multiply(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.numerator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n\n  _proto.divide = function divide(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.numerator));\n  };\n\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_HALF_UP;\n    }\n\n    !Number.isInteger(significantDigits) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, significantDigits + \" is not an integer.\") : 0 : void 0;\n    !(significantDigits > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, significantDigits + \" is not positive.\") : 0 : void 0;\n    Decimal.set({\n      precision: significantDigits + 1,\n      rounding: toSignificantRounding[rounding]\n    });\n    var quotient = new Decimal(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(significantDigits);\n    return quotient.toFormat(quotient.decimalPlaces(), format);\n  };\n\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_HALF_UP;\n    }\n\n    !Number.isInteger(decimalPlaces) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, decimalPlaces + \" is not an integer.\") : 0 : void 0;\n    !(decimalPlaces >= 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, decimalPlaces + \" is negative.\") : 0 : void 0;\n    Big.DP = decimalPlaces;\n    Big.RM = toFixedRounding[rounding];\n    return new Big(this.numerator.toString()).div(this.denominator.toString()).toFormat(decimalPlaces, format);\n  }\n  /**\r\n   * Helper method for converting any super class back to a fraction\r\n   */\n  ;\n\n  _createClass(Fraction, [{\n    key: \"quotient\",\n    get: function get() {\n      return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(this.numerator, this.denominator);\n    } // remainder after floor division\n\n  }, {\n    key: \"remainder\",\n    get: function get() {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].remainder(this.numerator, this.denominator), this.denominator);\n    }\n  }, {\n    key: \"asFraction\",\n    get: function get() {\n      return new Fraction(this.numerator, this.denominator);\n    }\n  }]);\n\n  return Fraction;\n}();\n\nvar Big$1 = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(big_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar CurrencyAmount = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(CurrencyAmount, _Fraction);\n\n  function CurrencyAmount(currency, numerator, denominator) {\n    var _this;\n\n    _this = _Fraction.call(this, numerator, denominator) || this;\n    !jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThanOrEqual(_this.quotient, MaxUint256) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'AMOUNT') : 0 : void 0;\n    _this.currency = currency;\n    _this.decimalScale = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(currency.decimals));\n    return _this;\n  }\n  /**\r\n   * Returns a new currency amount instance from the unitless amount of token, i.e. the raw amount\r\n   * @param currency the currency in the amount\r\n   * @param rawAmount the raw token or ether amount\r\n   */\n\n\n  CurrencyAmount.fromRawAmount = function fromRawAmount(currency, rawAmount) {\n    return new CurrencyAmount(currency, rawAmount);\n  }\n  /**\r\n   * Construct a currency amount with a denominator that is not equal to 1\r\n   * @param currency the currency\r\n   * @param numerator the numerator of the fractional token amount\r\n   * @param denominator the denominator of the fractional token amount\r\n   */\n  ;\n\n  CurrencyAmount.fromFractionalAmount = function fromFractionalAmount(currency, numerator, denominator) {\n    return new CurrencyAmount(currency, numerator, denominator);\n  };\n\n  var _proto = CurrencyAmount.prototype;\n\n  _proto.add = function add(other) {\n    !this.currency.equals(other.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CURRENCY') : 0 : void 0;\n\n    var added = _Fraction.prototype.add.call(this, other);\n\n    return CurrencyAmount.fromFractionalAmount(this.currency, added.numerator, added.denominator);\n  };\n\n  _proto.subtract = function subtract(other) {\n    !this.currency.equals(other.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CURRENCY') : 0 : void 0;\n\n    var subtracted = _Fraction.prototype.subtract.call(this, other);\n\n    return CurrencyAmount.fromFractionalAmount(this.currency, subtracted.numerator, subtracted.denominator);\n  };\n\n  _proto.multiply = function multiply(other) {\n    var multiplied = _Fraction.prototype.multiply.call(this, other);\n\n    return CurrencyAmount.fromFractionalAmount(this.currency, multiplied.numerator, multiplied.denominator);\n  };\n\n  _proto.divide = function divide(other) {\n    var divided = _Fraction.prototype.divide.call(this, other);\n\n    return CurrencyAmount.fromFractionalAmount(this.currency, divided.numerator, divided.denominator);\n  };\n\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 6;\n    }\n\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_DOWN;\n    }\n\n    return _Fraction.prototype.divide.call(this, this.decimalScale).toSignificant(significantDigits, format, rounding);\n  };\n\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = this.currency.decimals;\n    }\n\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_DOWN;\n    }\n\n    !(decimalPlaces <= this.currency.decimals) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'DECIMALS') : 0 : void 0;\n    return _Fraction.prototype.divide.call(this, this.decimalScale).toFixed(decimalPlaces, format, rounding);\n  };\n\n  _proto.toExact = function toExact(format) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n\n    Big$1.DP = this.currency.decimals;\n    return new Big$1(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(format);\n  };\n\n  _createClass(CurrencyAmount, [{\n    key: \"wrapped\",\n    get: function get() {\n      if (this.currency.isToken) return this;\n      return CurrencyAmount.fromFractionalAmount(this.currency.wrapped, this.numerator, this.denominator);\n    }\n  }]);\n\n  return CurrencyAmount;\n}(Fraction);\n\nvar ONE_HUNDRED = /*#__PURE__*/new Fraction( /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(100));\n/**\r\n * Converts a fraction to a percent\r\n * @param fraction the fraction to convert\r\n */\n\nfunction toPercent(fraction) {\n  return new Percent(fraction.numerator, fraction.denominator);\n}\n\nvar Percent = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(Percent, _Fraction);\n\n  function Percent() {\n    var _this;\n\n    _this = _Fraction.apply(this, arguments) || this;\n    /**\r\n     * This boolean prevents a fraction from being interpreted as a Percent\r\n     */\n\n    _this.isPercent = true;\n    return _this;\n  }\n\n  var _proto = Percent.prototype;\n\n  _proto.add = function add(other) {\n    return toPercent(_Fraction.prototype.add.call(this, other));\n  };\n\n  _proto.subtract = function subtract(other) {\n    return toPercent(_Fraction.prototype.subtract.call(this, other));\n  };\n\n  _proto.multiply = function multiply(other) {\n    return toPercent(_Fraction.prototype.multiply.call(this, other));\n  };\n\n  _proto.divide = function divide(other) {\n    return toPercent(_Fraction.prototype.divide.call(this, other));\n  };\n\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 5;\n    }\n\n    return _Fraction.prototype.multiply.call(this, ONE_HUNDRED).toSignificant(significantDigits, format, rounding);\n  };\n\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = 2;\n    }\n\n    return _Fraction.prototype.multiply.call(this, ONE_HUNDRED).toFixed(decimalPlaces, format, rounding);\n  };\n\n  return Percent;\n}(Fraction);\n\nvar Price = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(Price, _Fraction);\n\n  /**\r\n   * Construct a price, either with the base and quote currency amount, or the\r\n   * @param args\r\n   */\n  function Price() {\n    var _this;\n\n    var baseCurrency, quoteCurrency, denominator, numerator;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 4) {\n      baseCurrency = args[0];\n      quoteCurrency = args[1];\n      denominator = args[2];\n      numerator = args[3];\n    } else {\n      var result = args[0].quoteAmount.divide(args[0].baseAmount);\n      var _ref = [args[0].baseAmount.currency, args[0].quoteAmount.currency, result.denominator, result.numerator];\n      baseCurrency = _ref[0];\n      quoteCurrency = _ref[1];\n      denominator = _ref[2];\n      numerator = _ref[3];\n    }\n\n    _this = _Fraction.call(this, numerator, denominator) || this;\n    _this.baseCurrency = baseCurrency;\n    _this.quoteCurrency = quoteCurrency;\n    _this.scalar = new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(baseCurrency.decimals)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(quoteCurrency.decimals)));\n    return _this;\n  }\n  /**\r\n   * Flip the price, switching the base and quote currency\r\n   */\n\n\n  var _proto = Price.prototype;\n\n  _proto.invert = function invert() {\n    return new Price(this.quoteCurrency, this.baseCurrency, this.numerator, this.denominator);\n  }\n  /**\r\n   * Multiply the price by another price, returning a new price. The other price must have the same base currency as this price's quote currency\r\n   * @param other the other price\r\n   */\n  ;\n\n  _proto.multiply = function multiply(other) {\n    !this.quoteCurrency.equals(other.baseCurrency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n\n    var fraction = _Fraction.prototype.multiply.call(this, other);\n\n    return new Price(this.baseCurrency, other.quoteCurrency, fraction.denominator, fraction.numerator);\n  }\n  /**\r\n   * Return the amount of quote currency corresponding to a given amount of the base currency\r\n   * @param currencyAmount the amount of base currency to quote against the price\r\n   */\n  ;\n\n  _proto.quote = function quote(currencyAmount) {\n    !currencyAmount.currency.equals(this.baseCurrency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n\n    var result = _Fraction.prototype.multiply.call(this, currencyAmount);\n\n    return CurrencyAmount.fromFractionalAmount(this.quoteCurrency, result.numerator, result.denominator);\n  }\n  /**\r\n   * Get the value scaled by decimals for formatting\r\n   * @private\r\n   */\n  ;\n\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 6;\n    }\n\n    return this.adjustedForDecimals.toSignificant(significantDigits, format, rounding);\n  };\n\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = 4;\n    }\n\n    return this.adjustedForDecimals.toFixed(decimalPlaces, format, rounding);\n  };\n\n  _createClass(Price, [{\n    key: \"adjustedForDecimals\",\n    get: function get() {\n      return _Fraction.prototype.multiply.call(this, this.scalar);\n    }\n  }]);\n\n  return Price;\n}(Fraction);\n\n/**\r\n * A currency is any fungible financial instrument, including Ether, all ERC20 tokens, and other chain-native currencies\r\n */\n\nvar BaseCurrency =\n/**\r\n * Constructs an instance of the base class `BaseCurrency`.\r\n * @param chainId the chain ID on which this currency resides\r\n * @param decimals decimals of the currency\r\n * @param symbol symbol of the currency\r\n * @param name of the currency\r\n */\nfunction BaseCurrency(chainId, decimals, symbol, name) {\n  !Number.isSafeInteger(chainId) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CHAIN_ID') : 0 : void 0;\n  !(decimals >= 0 && decimals < 255 && Number.isInteger(decimals)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'DECIMALS') : 0 : void 0;\n  this.chainId = chainId;\n  this.decimals = decimals;\n  this.symbol = symbol;\n  this.name = name;\n};\n\n/**\r\n * Represents the native currency of the chain on which it resides, e.g.\r\n */\n\nvar NativeCurrency = /*#__PURE__*/function (_BaseCurrency) {\n  _inheritsLoose(NativeCurrency, _BaseCurrency);\n\n  function NativeCurrency() {\n    var _this;\n\n    _this = _BaseCurrency.apply(this, arguments) || this;\n    _this.isNative = true;\n    _this.isToken = false;\n    return _this;\n  }\n\n  return NativeCurrency;\n}(BaseCurrency);\n\n/**\r\n * Validates an address and returns the parsed (checksummed) version of that address\r\n * @param address the unchecksummed hex address\r\n */\n\nfunction validateAndParseAddress(address) {\n  try {\n    return (0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_5__.getAddress)(address);\n  } catch (error) {\n    throw new Error(address + \" is not a valid address.\");\n  }\n} // Checks a string starts with 0x, is 42 characters long and contains only hex characters after 0x\n\nvar startsWith0xLen42HexRegex = /^0x[0-9a-fA-F]{40}$/;\n/**\r\n * Checks if an address is valid by checking 0x prefix, length === 42 and hex encoding.\r\n * @param address the unchecksummed hex address\r\n */\n\nfunction checkValidAddress(address) {\n  if (startsWith0xLen42HexRegex.test(address)) {\n    return address;\n  }\n\n  throw new Error(address + \" is not a valid address.\");\n}\n\n/**\r\n * Represents an ERC20 token with a unique address and some metadata.\r\n */\n\nvar Token = /*#__PURE__*/function (_BaseCurrency) {\n  _inheritsLoose(Token, _BaseCurrency);\n\n  /**\r\n   *\r\n   * @param chainId {@link BaseCurrency#chainId}\r\n   * @param address The contract address on the chain on which this token lives\r\n   * @param decimals {@link BaseCurrency#decimals}\r\n   * @param symbol {@link BaseCurrency#symbol}\r\n   * @param name {@link BaseCurrency#name}\r\n   * @param bypassChecksum If true it only checks for length === 42, startsWith 0x and contains only hex characters\r\n   */\n  function Token(chainId, address, decimals, symbol, name, bypassChecksum) {\n    var _this;\n\n    _this = _BaseCurrency.call(this, chainId, decimals, symbol, name) || this;\n    _this.isNative = false;\n    _this.isToken = true;\n\n    if (bypassChecksum) {\n      _this.address = checkValidAddress(address);\n    } else {\n      _this.address = validateAndParseAddress(address);\n    }\n\n    return _this;\n  }\n  /**\r\n   * Returns true if the two tokens are equivalent, i.e. have the same chainId and address.\r\n   * @param other other token to compare\r\n   */\n\n\n  var _proto = Token.prototype;\n\n  _proto.equals = function equals(other) {\n    return other.isToken && this.chainId === other.chainId && this.address.toLowerCase() === other.address.toLowerCase();\n  }\n  /**\r\n   * Returns true if the address of this token sorts before the address of the other token\r\n   * @param other other token to compare\r\n   * @throws if the tokens have the same address\r\n   * @throws if the tokens are on different chains\r\n   */\n  ;\n\n  _proto.sortsBefore = function sortsBefore(other) {\n    !(this.chainId === other.chainId) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CHAIN_IDS') : 0 : void 0;\n    !(this.address.toLowerCase() !== other.address.toLowerCase()) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'ADDRESSES') : 0 : void 0;\n    return this.address.toLowerCase() < other.address.toLowerCase();\n  }\n  /**\r\n   * Return this token, which does not need to be wrapped\r\n   */\n  ;\n\n  _createClass(Token, [{\n    key: \"wrapped\",\n    get: function get() {\n      return this;\n    }\n  }]);\n\n  return Token;\n}(BaseCurrency);\n\nvar _WETH;\n/**\r\n * Known WETH9 implementation addresses, used in our implementation of Ether#wrapped\r\n */\n\nvar WETH9 = (_WETH = {}, _WETH[1] = /*#__PURE__*/new Token(1, '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2', 18, 'WETH', 'Wrapped Ether'), _WETH[3] = /*#__PURE__*/new Token(3, '0xc778417E063141139Fce010982780140Aa0cD5Ab', 18, 'WETH', 'Wrapped Ether'), _WETH[4] = /*#__PURE__*/new Token(4, '0xc778417E063141139Fce010982780140Aa0cD5Ab', 18, 'WETH', 'Wrapped Ether'), _WETH[5] = /*#__PURE__*/new Token(5, '0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6', 18, 'WETH', 'Wrapped Ether'), _WETH[42] = /*#__PURE__*/new Token(42, '0xd0A1E359811322d97991E03f863a0C30C2cF029C', 18, 'WETH', 'Wrapped Ether'), _WETH[10] = /*#__PURE__*/new Token(10, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'), _WETH[69] = /*#__PURE__*/new Token(69, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'), _WETH[42161] = /*#__PURE__*/new Token(42161, '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1', 18, 'WETH', 'Wrapped Ether'), _WETH[421611] = /*#__PURE__*/new Token(421611, '0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681', 18, 'WETH', 'Wrapped Ether'), _WETH);\n\n/**\r\n * Ether is the main usage of a 'native' currency, i.e. for Ethereum mainnet and all testnets\r\n */\n\nvar Ether = /*#__PURE__*/function (_NativeCurrency) {\n  _inheritsLoose(Ether, _NativeCurrency);\n\n  function Ether(chainId) {\n    return _NativeCurrency.call(this, chainId, 18, 'ETH', 'Ether') || this;\n  }\n\n  Ether.onChain = function onChain(chainId) {\n    var _this$_etherCache$cha;\n\n    return (_this$_etherCache$cha = this._etherCache[chainId]) != null ? _this$_etherCache$cha : this._etherCache[chainId] = new Ether(chainId);\n  };\n\n  var _proto = Ether.prototype;\n\n  _proto.equals = function equals(other) {\n    return other.isNative && other.chainId === this.chainId;\n  };\n\n  _createClass(Ether, [{\n    key: \"wrapped\",\n    get: function get() {\n      var weth9 = WETH9[this.chainId];\n      !!!weth9 ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'WRAPPED') : 0 : void 0;\n      return weth9;\n    }\n  }]);\n\n  return Ether;\n}(NativeCurrency);\nEther._etherCache = {};\n\n/**\r\n * Returns the percent difference between the mid price and the execution price, i.e. price impact.\r\n * @param midPrice mid price before the trade\r\n * @param inputAmount the input amount of the trade\r\n * @param outputAmount the output amount of the trade\r\n */\n\nfunction computePriceImpact(midPrice, inputAmount, outputAmount) {\n  var quotedOutputAmount = midPrice.quote(inputAmount); // calculate price impact := (exactQuote - outputAmount) / exactQuote\n\n  var priceImpact = quotedOutputAmount.subtract(outputAmount).divide(quotedOutputAmount);\n  return new Percent(priceImpact.numerator, priceImpact.denominator);\n}\n\n// `maxSize` by removing the last item\n\nfunction sortedInsert(items, add, maxSize, comparator) {\n  !(maxSize > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'MAX_SIZE_ZERO') : 0 : void 0; // this is an invariant because the interface cannot return multiple removed items if items.length exceeds maxSize\n\n  !(items.length <= maxSize) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'ITEMS_SIZE') : 0 : void 0; // short circuit first item add\n\n  if (items.length === 0) {\n    items.push(add);\n    return null;\n  } else {\n    var isFull = items.length === maxSize; // short circuit if full and the additional item does not come before the last item\n\n    if (isFull && comparator(items[items.length - 1], add) <= 0) {\n      return add;\n    }\n\n    var lo = 0,\n        hi = items.length;\n\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n\n      if (comparator(items[mid], add) <= 0) {\n        lo = mid + 1;\n      } else {\n        hi = mid;\n      }\n    }\n\n    items.splice(lo, 0, add);\n    return isFull ? items.pop() : null;\n  }\n}\n\nvar MAX_SAFE_INTEGER = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(Number.MAX_SAFE_INTEGER);\nvar ZERO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(0);\nvar ONE = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(1);\nvar TWO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(2);\n/**\r\n * Computes floor(sqrt(value))\r\n * @param value the value for which to compute the square root, rounded down\r\n */\n\nfunction sqrt(value) {\n  !jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].greaterThanOrEqual(value, ZERO) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NEGATIVE') : 0 : void 0; // rely on built in sqrt if possible\n\n  if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(value, MAX_SAFE_INTEGER)) {\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(Math.floor(Math.sqrt(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toNumber(value))));\n  }\n\n  var z;\n  var x;\n  z = value;\n  x = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(value, TWO), ONE);\n\n  while (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(x, z)) {\n    z = x;\n    x = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(value, x), x), TWO);\n  }\n\n  return z;\n}\n\n\n//# sourceMappingURL=sdk-core.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B1bmlzd2FwK3Nkay1jb3JlQDQuMC42L25vZGVfbW9kdWxlcy9AdW5pc3dhcC9zZGstY29yZS9kaXN0L3Nkay1jb3JlLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0I7QUFDZTtBQUNDO0FBQ2Q7QUFDTTtBQUNvQjs7QUFFcEQ7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0RBQWdEOztBQUVqRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTtBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUY7O0FBRW5GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdEQUFnRDtBQUNoRDtBQUNBLENBQUM7O0FBRUQsK0NBQStDO0FBQy9DO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLENBQUM7O0FBRUQsMkNBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFJO0FBQ2I7QUFDQSxRQUFRLDRDQUFJLFFBQVEsNENBQUksS0FBSyw0Q0FBSTtBQUNqQzs7QUFFQTtBQUNBOztBQUVzekI7QUFDdHpCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGV4YW1wbGVzL2xvZ2luLXdpdGgtcGFzc3BvcnQtcHJvdmlkZXItYW5ub3VuY2UvLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B1bmlzd2FwK3Nkay1jb3JlQDQuMC42L25vZGVfbW9kdWxlcy9AdW5pc3dhcC9zZGstY29yZS9kaXN0L3Nkay1jb3JlLmVzbS5qcz8xNmY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKU0JJIGZyb20gJ2pzYmknO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICd0aW55LWludmFyaWFudCc7XG5pbXBvcnQgX0RlY2ltYWwgZnJvbSAnZGVjaW1hbC5qcy1saWdodCc7XG5pbXBvcnQgX0JpZyBmcm9tICdiaWcuanMnO1xuaW1wb3J0IHRvRm9ybWF0IGZyb20gJ3RvZm9ybWF0JztcbmltcG9ydCB7IGdldEFkZHJlc3MgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9hZGRyZXNzJztcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59XG5cbnZhciBDaGFpbklkO1xuXG4oZnVuY3Rpb24gKENoYWluSWQpIHtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiTUFJTk5FVFwiXSA9IDFdID0gXCJNQUlOTkVUXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkdPRVJMSVwiXSA9IDVdID0gXCJHT0VSTElcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiU0VQT0xJQVwiXSA9IDExMTU1MTExXSA9IFwiU0VQT0xJQVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJPUFRJTUlTTVwiXSA9IDEwXSA9IFwiT1BUSU1JU01cIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiT1BUSU1JU01fR09FUkxJXCJdID0gNDIwXSA9IFwiT1BUSU1JU01fR09FUkxJXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkFSQklUUlVNX09ORVwiXSA9IDQyMTYxXSA9IFwiQVJCSVRSVU1fT05FXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkFSQklUUlVNX0dPRVJMSVwiXSA9IDQyMTYxM10gPSBcIkFSQklUUlVNX0dPRVJMSVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJQT0xZR09OXCJdID0gMTM3XSA9IFwiUE9MWUdPTlwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJQT0xZR09OX01VTUJBSVwiXSA9IDgwMDAxXSA9IFwiUE9MWUdPTl9NVU1CQUlcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQ0VMT1wiXSA9IDQyMjIwXSA9IFwiQ0VMT1wiO1xuICBDaGFpbklkW0NoYWluSWRbXCJDRUxPX0FMRkFKT1JFU1wiXSA9IDQ0Nzg3XSA9IFwiQ0VMT19BTEZBSk9SRVNcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiR05PU0lTXCJdID0gMTAwXSA9IFwiR05PU0lTXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIk1PT05CRUFNXCJdID0gMTI4NF0gPSBcIk1PT05CRUFNXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkJOQlwiXSA9IDU2XSA9IFwiQk5CXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkFWQUxBTkNIRVwiXSA9IDQzMTE0XSA9IFwiQVZBTEFOQ0hFXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkJBU0VfR09FUkxJXCJdID0gODQ1MzFdID0gXCJCQVNFX0dPRVJMSVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJCQVNFXCJdID0gODQ1M10gPSBcIkJBU0VcIjtcbn0pKENoYWluSWQgfHwgKENoYWluSWQgPSB7fSkpO1xuXG52YXIgU1VQUE9SVEVEX0NIQUlOUyA9IFtDaGFpbklkLk1BSU5ORVQsIENoYWluSWQuT1BUSU1JU00sIENoYWluSWQuT1BUSU1JU01fR09FUkxJLCBDaGFpbklkLkFSQklUUlVNX09ORSwgQ2hhaW5JZC5BUkJJVFJVTV9HT0VSTEksIENoYWluSWQuUE9MWUdPTiwgQ2hhaW5JZC5QT0xZR09OX01VTUJBSSwgQ2hhaW5JZC5HT0VSTEksIENoYWluSWQuU0VQT0xJQSwgQ2hhaW5JZC5DRUxPX0FMRkFKT1JFUywgQ2hhaW5JZC5DRUxPLCBDaGFpbklkLkJOQiwgQ2hhaW5JZC5BVkFMQU5DSEUsIENoYWluSWQuQkFTRSwgQ2hhaW5JZC5CQVNFX0dPRVJMSV07XG52YXIgTmF0aXZlQ3VycmVuY3lOYW1lO1xuXG4oZnVuY3Rpb24gKE5hdGl2ZUN1cnJlbmN5TmFtZSkge1xuICAvLyBTdHJpbmdzIG1hdGNoIGlucHV0IGZvciBDTElcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiRVRIRVJcIl0gPSBcIkVUSFwiO1xuICBOYXRpdmVDdXJyZW5jeU5hbWVbXCJNQVRJQ1wiXSA9IFwiTUFUSUNcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiQ0VMT1wiXSA9IFwiQ0VMT1wiO1xuICBOYXRpdmVDdXJyZW5jeU5hbWVbXCJHTk9TSVNcIl0gPSBcIlhEQUlcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiTU9PTkJFQU1cIl0gPSBcIkdMTVJcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiQk5CXCJdID0gXCJCTkJcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiQVZBWFwiXSA9IFwiQVZBWFwiO1xufSkoTmF0aXZlQ3VycmVuY3lOYW1lIHx8IChOYXRpdmVDdXJyZW5jeU5hbWUgPSB7fSkpO1xuXG52YXIgX0NIQUlOX1RPX0FERFJFU1NFU19NLCBfR09WRVJOQU5DRV9BTFBIQV9WMV8sIF9HT1ZFUk5BTkNFX0JSQVZPX0FERCwgX01FUktMRV9ESVNUUklCVVRPUl9BLCBfQVJHRU5UX1dBTExFVF9ERVRFQ1QsIF9TT0NLU19DT05UUk9MTEVSX0FERDtcbnZhciBERUZBVUxUX05FVFdPUktTID0gW0NoYWluSWQuTUFJTk5FVCwgQ2hhaW5JZC5HT0VSTEldO1xuXG5mdW5jdGlvbiBjb25zdHJ1Y3RTYW1lQWRkcmVzc01hcChhZGRyZXNzLCBhZGRpdGlvbmFsTmV0d29ya3MpIHtcbiAgaWYgKGFkZGl0aW9uYWxOZXR3b3JrcyA9PT0gdm9pZCAwKSB7XG4gICAgYWRkaXRpb25hbE5ldHdvcmtzID0gW107XG4gIH1cblxuICByZXR1cm4gREVGQVVMVF9ORVRXT1JLUy5jb25jYXQoYWRkaXRpb25hbE5ldHdvcmtzKS5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgICBtZW1vW2NoYWluSWRdID0gYWRkcmVzcztcbiAgICByZXR1cm4gbWVtbztcbiAgfSwge30pO1xufVxuXG52YXIgVU5JX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9jb25zdHJ1Y3RTYW1lQWRkcmVzc01hcCgnMHgxZjk4NDBhODVkNWFGNWJmMUQxNzYyRjkyNUJEQURkQzQyMDFGOTg0JywgW0NoYWluSWQuT1BUSU1JU00sIENoYWluSWQuQVJCSVRSVU1fT05FLCBDaGFpbklkLlBPTFlHT04sIENoYWluSWQuUE9MWUdPTl9NVU1CQUksIENoYWluSWQuU0VQT0xJQV0pO1xudmFyIFVOSVNXQVBfTkZUX0FJUkRST1BfQ0xBSU1fQUREUkVTUyA9ICcweDhCNzk5MzgxYWM0MGI4MzhCQkE0MTMxZmZCMjYxOTdDNDMyQUZlNzgnO1xudmFyIFYyX0ZBQ1RPUllfQUREUkVTUyA9ICcweDVDNjliRWU3MDFlZjgxNGEyQjZhM0VERDRCMTY1MkNCOWNjNWFBNmYnO1xudmFyIFYyX0ZBQ1RPUllfQUREUkVTU0VTID0gLyojX19QVVJFX18qL2NvbnN0cnVjdFNhbWVBZGRyZXNzTWFwKFYyX0ZBQ1RPUllfQUREUkVTUyk7XG52YXIgVjJfUk9VVEVSX0FERFJFU1MgPSAnMHg3YTI1MGQ1NjMwQjRjRjUzOTczOWRGMkM1ZEFjYjRjNjU5RjI0ODhEJztcbnZhciBWMl9ST1VURVJfQUREUkVTU0VTID0gLyojX19QVVJFX18qL2NvbnN0cnVjdFNhbWVBZGRyZXNzTWFwKFYyX1JPVVRFUl9BRERSRVNTKTsgLy8gTmV0d29ya3MgdGhhdCBzaGFyZSBtb3N0IG9mIHRoZSBzYW1lIGFkZHJlc3NlcyBpLmUuIE1haW5uZXQsIEdvZXJsaSwgT3B0aW1pc20sIEFyYml0cnVtLCBQb2x5Z29uXG5cbnZhciBERUZBVUxUX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDFGOTg0MzFjOGFEOTg1MjM2MzFBRTRhNTlmMjY3MzQ2ZWEzMUY5ODQnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgxRjk4NDE1NzU3NjIwQjU0M0E1MkU2MWM0NkIzMmVCMTkyNjFGOTg0JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4YjI3MzA4ZjlGOTBENjA3NDYzYmIzM2VBMUJlQmI0MUMyN0NFNUFCNicsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHhBNTY0NEUyOTcwODM1NzgwM2I1QTg4MkQyNzJjNDFjQzBkRjkyQjM0JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHhDMzY0NDJiNGE0NTIyRTg3MTM5OUNENzE3YUJERDg0N0FiMTFGRTg4J1xufTtcblxudmFyIE1BSU5ORVRfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCBERUZBVUxUX0FERFJFU1NFUywge1xuICB2MU1peGVkUm91dGVRdW90ZXJBZGRyZXNzOiAnMHg4NEU0NDA5NWVlQmZFQzc3OTNDZDdkNWI1N0I3ZTQwMUQ3ZjFjQTJFJ1xufSk7XG5cbnZhciBHT0VSTElfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCBERUZBVUxUX0FERFJFU1NFUywge1xuICB2MU1peGVkUm91dGVRdW90ZXJBZGRyZXNzOiAnMHhCYTYwYjZlNmZGMjU0ODgzMDg3ODlFNmUwQTY1RDgzOGJlMzQxOTRlJ1xufSk7XG5cbnZhciBPUFRJTUlTTV9BRERSRVNTRVMgPSBERUZBVUxUX0FERFJFU1NFUztcblxudmFyIEFSQklUUlVNX09ORV9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIERFRkFVTFRfQUREUkVTU0VTLCB7XG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweGFkRjg4NTk2MEI0N2VBMkNEOUI1NUU2REFjNkI0MmI3Q2IyODA2ZEInLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweGJmZDgxMzdmN2QxNTE2RDNlYTVjQTgzNTIzOTE0ODU5ZWM0N0Y1NzMnXG59KTtcblxudmFyIFBPTFlHT05fQUREUkVTU0VTID0gREVGQVVMVF9BRERSRVNTRVM7IC8vIGNlbG8gdjMgYWRkcmVzc2VzXG5cbnZhciBDRUxPX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweEFmRTIwOGEzMTFCMjFmMTNFRjg3RTMzQTkwMDQ5ZkMxN0E3YWNERWMnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHg2MzM5ODc2MDJERTVDNEYzMzdlM0RiRjI2NTMwM0ExMDgwMzI0MjA0JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4ODI4MjVkMDU1NGZBMDdmN0ZDNTJBYjYzYzk2MUYzMzBmZEVGYThFOCcsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgzY0ZkNGQ0OEVEZkRDQzUzRDNmMTczRjU5NmY2MjEwNjQ2MTRDNTgyJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgzZDc5RWRBYUJDMEVhQjZGMDhFRDg4NUMwNUZjMEIwMTQyOTBEOTVBJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHg1ZjExNUQ5MTEzRjg4ZTBhMERiMWI1MDMzRDkwRDRhOTY5MEFjRDNEJ1xufTsgLy8gQk5CIHYzIGFkZHJlc3Nlc1xuXG52YXIgQk5CX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweGRCMWQxMDAxMUFEMEZmOTA3NzREMEM2QmI5MmU1QzVjOGI0NDYxRjcnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHg5NjNEZjI0OWVEMDljMzU4QTQ4MTlFMzlkOUNkNTczNmMzMDg3MTg0JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4NzhENzhFNDIwRGE5OGFkMzc4RDc3OTliRThmNEFGNjkwMzNFQjA3NycsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgzMjY4MTgxNDk1N2UwQzEzMTE3ZGRjMGMyYWJhMjMyYjVjOWU3NjBmJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHg3YjhBMDFCMzlENTgyNzhiNURFN2U0OGM4NDQ5YzlmNEY1MTcwNjEzJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhEOTI3MDAxNEQzOTYyODE1Nzk3NjA2MTlDQ2Y0YzNhZjA1MDFBNDdDJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4Qjk3MWVGODdlZGU1NjM1NTZiMkVENGIxQzBiMDAxOTExMURkODVkMidcbn07IC8vIG9wdGltaXNtIGdvZXJsaSBhZGRyZXNzZXNcblxudmFyIE9QVElNSVNNX0dPRVJMSV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHhCNjU2ZEExNzEyOWU3RUI3MzNBNTU3ZjRFQmM1N0I3NkNGYkI1ZDEwJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4MDdGMkQ4YTJhMDIyNTFCNjJhZjk2NWYyMmZDNDc0NEE1Zjk2QkNDZCcsXG4gIHF1b3RlckFkZHJlc3M6ICcweDk1NjlDYkE5MjVjOGNhMjI0ODc3MkE5QTQ5NzZBNTE2NzQzQTI0NkYnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4ZjZjNTVmQmU4NEIxQzhjMzI4MzUzM2M1M0Y1MWJDMzJGNUM3QWJhOCcsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4MzlDYTg1QWYyRjM4MzE5MGNCZjdkN2M0MUVEOTIwMkQyNzQyNkVGNicsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4ZTYxNDBCZDE2NGI2M0U4QmZDZmM0MEQ1ZEY5NTJmODNlMTcxNzU4ZSdcbn07IC8vIGFyYml0cnVtIGdvZXJsaSB2MyBhZGRyZXNzZXNcblxudmFyIEFSQklUUlVNX0dPRVJMSV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg0ODkzMzc2MzQyZDVEN2IzZTMxZDQxODRjMDhiMjY1ZTVhQjJBM2Y2JyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4ODI2MENCNDAyNDcyOTAzMTdhNGMwNjJGMzU0MjYyMjM2N0YyMDZFZScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDFkZDkyYjgzNTkxNzgxRDBDNmQ5OGQwNzM5MWVlYTRiOWE2MDA4RkEnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4QTgxNTkxOUQyNTg0QWMzRjc2ZWE5Q0I2MkU2RmQ0MGE0M0JDZTBDMycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4NjIyZTQ3MjZhMTY3Nzk5ODI2ZDFFMUQxNTBiMDc2QTc3MjVmNUQ4MScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4YjUyNDI5MzMzZGE5NjlhMEM3OWE2MDkzMGE0QmYwMDIwRTVEMURFOCdcbn07IC8vIHNlcG9saWEgdjMgYWRkcmVzc2VzXG5cbnZhciBTRVBPTElBX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDAyMjc2MjhmM0YwMjNiYjBCOTgwYjY3RDUyODU3MWM5NWM2RGFDMWMnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHhEN0YzM2JDZGIyMWIzNTljOGVlNkYwMjUxZDMwRTk0ODMyYmFBZDA3JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4RWQxZjY0NzMzNDVGNDViNzVGODE3OTU5MWRkNWJBMTg4OGNmMkZCMycsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHg3MjkwMDQxODJjRjAwNUNFQzhCZDg1ZGYxNDAwOTRiNmFDYmU4YjE1JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgxMjM4NTM2MDcxRTFjNjc3QTYzMjQyOWUzNjU1Yzc5OWIyMmNEQTUyJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhkN2YzM2JjZGIyMWIzNTljOGVlNmYwMjUxZDMwZTk0ODMyYmFhZDA3J1xufTsgLy8gQXZhbGFuY2hlIHYzIGFkZHJlc3Nlc1xuXG52YXIgQVZBTEFOQ0hFX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDc0MGIxYzFkZTI1MDMxQzMxRkY0ZkM5QTYyZjU1NEE1NWNkQzFiYUQnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgwMTM5MTQxQ2Q0RWU4OGRGM0NkYjY1ODgxRDQxMWJBRTI3MUVmMEMyJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4YmUwRjU1NDRFQzY3ZTlCM2IyRDk3OWFhQTQzZjE4RmQ4N0U2MjU3RicsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHg0NGY1ZjFmNUU0NTJlYThkMjlDODkwRThGNmU4OTNmQzBmMWYwZjk3JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHg2NTVDNDA2RUJGYTE0RUUyMDA2MjUwOTI1ZTU0ZWM0M0FEMTg0ZjhCJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhFQjlmRkM4YmY4MWI0ZkZkMTFmYjZBNjNhNkIwZjA5OGM2ZTIxOTUwJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4YmIwMEZGMDhkMDFEMzAwMDIzQzYyOUU4ZkZmRmNiNjVBNWE1NzhjRSdcbn07XG52YXIgQkFTRV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHgzMzEyOGE4ZkMxNzg2OTg5N2RjRTY4RWQwMjZkNjk0NjIxZjZGRGZEJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4MDkxZTk5Y2IxQzQ5MzMxYTk0ZEQ2Mjc1NUQxNjhFOTQxQWJEMDY5MycsXG4gIHF1b3RlckFkZHJlc3M6ICcweDNkNGU0NEViMTM3NDI0MENFNUYxQjg3MWFiMjYxQ0QxNjMzNUI3NmEnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4MjNjRjEwYjFlZTNBZGZDQTczQjBlRjE3QzA3Rjc1NzdlN0FDZDJkNycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4MDNhNTIwYjMyQzA0QkYzYkVFZjdCRWI3MkU5MTljZjgyMkVkMzRmMScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4MENkZUUwNjFjNzVENDNjODI1MjBlRDk5OEMyM2FjMjk5MWM5YWM2ZCcsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDI2MjY2NjRjMjYwMzMzNkU1N0IyNzFjNUMwYjI2RjQyMTc0MWU0ODEnXG59OyAvLyBCYXNlIEdvZXJsaSB2MyBhZGRyZXNzZXNcblxudmFyIEJBU0VfR09FUkxJX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDkzMjNjMWQ2RDgwMGVkNTFCZDdDNkIyMTZjZkJlYzY3OEI3ZDBCQzInLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHhCMjA2MDI3YTlFMEUxM0YwNWVCRUZhNUQyNDAyQmFiM2VBNzE2NDM5JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4ZWRmNTM5MDU4ZTI4RTU5MzdkQWVmM2Y2OWNFZDBiMjVmYkU2NkFlOScsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgzZWZlNWQwMmEwNGI3MzUxRDY3MURiNzAwOGVjNmVCQTlBRDllM2FFJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgzYzYxMzY5ZWYwRDFEMkFGYTcwZDhmZUMyRjMxQzVENkNlMTM0RjMwJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHgxYWNCODczRWU5MDlEMGM5OGFkQjE4ZTQ0NzQ5NDMyNDlGOTMxYjkyJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4ODM1NzIyN0Q0ZURjNzg5OTFEYjZGREI5YkQ2QURFMjUwNTM2ZEUxZCdcbn07XG52YXIgQ0hBSU5fVE9fQUREUkVTU0VTX01BUCA9IChfQ0hBSU5fVE9fQUREUkVTU0VTX00gPSB7fSwgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuTUFJTk5FVF0gPSBNQUlOTkVUX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuT1BUSU1JU01dID0gT1BUSU1JU01fQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5BUkJJVFJVTV9PTkVdID0gQVJCSVRSVU1fT05FX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuUE9MWUdPTl0gPSBQT0xZR09OX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuUE9MWUdPTl9NVU1CQUldID0gUE9MWUdPTl9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkdPRVJMSV0gPSBHT0VSTElfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5DRUxPXSA9IENFTE9fQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5DRUxPX0FMRkFKT1JFU10gPSBDRUxPX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQk5CXSA9IEJOQl9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLk9QVElNSVNNX0dPRVJMSV0gPSBPUFRJTUlTTV9HT0VSTElfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5BUkJJVFJVTV9HT0VSTEldID0gQVJCSVRSVU1fR09FUkxJX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuU0VQT0xJQV0gPSBTRVBPTElBX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQVZBTEFOQ0hFXSA9IEFWQUxBTkNIRV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkJBU0VdID0gQkFTRV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkJBU0VfR09FUkxJXSA9IEJBU0VfR09FUkxJX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NKTtcbi8qIFYzIENvbnRyYWN0IEFkZHJlc3NlcyAqL1xuXG52YXIgVjNfQ09SRV9GQUNUT1JZX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL1NVUFBPUlRFRF9DSEFJTlMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjaGFpbklkKSB7XG4gIG1lbW9bY2hhaW5JZF0gPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2NoYWluSWRdLnYzQ29yZUZhY3RvcnlBZGRyZXNzO1xuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgVjNfTUlHUkFUT1JfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovU1VQUE9SVEVEX0NIQUlOUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgdmFyIHYzTWlncmF0b3JBZGRyZXNzID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS52M01pZ3JhdG9yQWRkcmVzcztcblxuICBpZiAodjNNaWdyYXRvckFkZHJlc3MpIHtcbiAgICBtZW1vW2NoYWluSWRdID0gdjNNaWdyYXRvckFkZHJlc3M7XG4gIH1cblxuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgTVVMVElDQUxMX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL1NVUFBPUlRFRF9DSEFJTlMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjaGFpbklkKSB7XG4gIG1lbW9bY2hhaW5JZF0gPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2NoYWluSWRdLm11bHRpY2FsbEFkZHJlc3M7XG4gIHJldHVybiBtZW1vO1xufSwge30pKTtcbi8qKlxyXG4gKiBUaGUgb2xkZXN0IFYwIGdvdmVybmFuY2UgYWRkcmVzc1xyXG4gKi9cblxudmFyIEdPVkVSTkFOQ0VfQUxQSEFfVjBfQUREUkVTU0VTID0gLyojX19QVVJFX18qL2NvbnN0cnVjdFNhbWVBZGRyZXNzTWFwKCcweDVlNGJlOEJjOTYzN2YwRUFBMUE3NTUwMTllMDZBNjhjZTA4MUQ1OEYnKTtcbi8qKlxyXG4gKiBUaGUgb2xkZXIgVjEgZ292ZXJuYW5jZSBhZGRyZXNzXHJcbiAqL1xuXG52YXIgR09WRVJOQU5DRV9BTFBIQV9WMV9BRERSRVNTRVMgPSAoX0dPVkVSTkFOQ0VfQUxQSEFfVjFfID0ge30sIF9HT1ZFUk5BTkNFX0FMUEhBX1YxX1tDaGFpbklkLk1BSU5ORVRdID0gJzB4QzRlMTcyNDU5ZjFFNzkzOUQ1MjI1MDNCODFBRkFhQzEwMTRDRTZGNicsIF9HT1ZFUk5BTkNFX0FMUEhBX1YxXyk7XG4vKipcclxuICogVGhlIGxhdGVzdCBnb3Zlcm5vciBicmF2byB0aGF0IGlzIGN1cnJlbnRseSBhZG1pbiBvZiB0aW1lbG9ja1xyXG4gKi9cblxudmFyIEdPVkVSTkFOQ0VfQlJBVk9fQUREUkVTU0VTID0gKF9HT1ZFUk5BTkNFX0JSQVZPX0FERCA9IHt9LCBfR09WRVJOQU5DRV9CUkFWT19BRERbQ2hhaW5JZC5NQUlOTkVUXSA9ICcweDQwOEVENjM1NGQ0OTczZjY2MTM4QzkxNDk1RjJmMkZDYmQ4NzI0QzMnLCBfR09WRVJOQU5DRV9CUkFWT19BREQpO1xudmFyIFRJTUVMT0NLX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9jb25zdHJ1Y3RTYW1lQWRkcmVzc01hcCgnMHgxYTlDODE4MkMwOUY1MEM4MzE4ZDc2OTI0NWJlQTUyYzMyQkUzNUJDJyk7XG52YXIgTUVSS0xFX0RJU1RSSUJVVE9SX0FERFJFU1MgPSAoX01FUktMRV9ESVNUUklCVVRPUl9BID0ge30sIF9NRVJLTEVfRElTVFJJQlVUT1JfQVtDaGFpbklkLk1BSU5ORVRdID0gJzB4MDkwRDQ2MTM0NzNkRUUwNDdjM2YyNzA2NzY0ZjQ5RTA4MjFEMjU2ZScsIF9NRVJLTEVfRElTVFJJQlVUT1JfQSk7XG52YXIgQVJHRU5UX1dBTExFVF9ERVRFQ1RPUl9BRERSRVNTID0gKF9BUkdFTlRfV0FMTEVUX0RFVEVDVCA9IHt9LCBfQVJHRU5UX1dBTExFVF9ERVRFQ1RbQ2hhaW5JZC5NQUlOTkVUXSA9ICcweGVjYTRCMGJEQmY3YzU1RTliNzkyNTkxOWQwM0NiRjhEYzgyNTM3RTgnLCBfQVJHRU5UX1dBTExFVF9ERVRFQ1QpO1xudmFyIFFVT1RFUl9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICBtZW1vW2NoYWluSWRdID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS5xdW90ZXJBZGRyZXNzO1xuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgTk9ORlVOR0lCTEVfUE9TSVRJT05fTUFOQUdFUl9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICB2YXIgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS5ub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M7XG5cbiAgaWYgKG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzcykge1xuICAgIG1lbW9bY2hhaW5JZF0gPSBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M7XG4gIH1cblxuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgRU5TX1JFR0lTVFJBUl9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9jb25zdHJ1Y3RTYW1lQWRkcmVzc01hcCgnMHgwMDAwMDAwMDAwMEMyRTA3NGVDNjlBMGRGYjI5OTdCQTZDN2QyZTFlJykpO1xudmFyIFNPQ0tTX0NPTlRST0xMRVJfQUREUkVTU0VTID0gKF9TT0NLU19DT05UUk9MTEVSX0FERCA9IHt9LCBfU09DS1NfQ09OVFJPTExFUl9BRERbQ2hhaW5JZC5NQUlOTkVUXSA9ICcweDY1NzcwYjUyODMxMTc2Mzk3NjBiZUEzRjg2N2I2OWIzNjk3YTkxZGQnLCBfU09DS1NfQ09OVFJPTExFUl9BREQpO1xudmFyIFRJQ0tfTEVOU19BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICB2YXIgdGlja0xlbnNBZGRyZXNzID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS50aWNrTGVuc0FkZHJlc3M7XG5cbiAgaWYgKHRpY2tMZW5zQWRkcmVzcykge1xuICAgIG1lbW9bY2hhaW5JZF0gPSB0aWNrTGVuc0FkZHJlc3M7XG4gIH1cblxuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgTUlYRURfUk9VVEVfUVVPVEVSX1YxX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICB2YXIgdjFNaXhlZFJvdXRlUXVvdGVyQWRkcmVzcyA9IENIQUlOX1RPX0FERFJFU1NFU19NQVBbY2hhaW5JZF0udjFNaXhlZFJvdXRlUXVvdGVyQWRkcmVzcztcblxuICBpZiAodjFNaXhlZFJvdXRlUXVvdGVyQWRkcmVzcykge1xuICAgIG1lbW9bY2hhaW5JZF0gPSB2MU1peGVkUm91dGVRdW90ZXJBZGRyZXNzO1xuICB9XG5cbiAgcmV0dXJuIG1lbW87XG59LCB7fSk7XG52YXIgU1dBUF9ST1VURVJfMDJfQUREUkVTU0VTID0gZnVuY3Rpb24gU1dBUF9ST1VURVJfMDJfQUREUkVTU0VTKGNoYWluSWQpIHtcbiAgaWYgKGNoYWluSWQgPT0gQ2hhaW5JZC5CTkIpIHtcbiAgICByZXR1cm4gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS5zd2FwUm91dGVyMDJBZGRyZXNzO1xuICB9XG5cbiAgcmV0dXJuICcweDY4YjM0NjU4MzNmYjcyQTcwZWNERjQ4NUUwZTRDN2JEODY2NUZjNDUnO1xufTtcblxudmFyIFRyYWRlVHlwZTtcblxuKGZ1bmN0aW9uIChUcmFkZVR5cGUpIHtcbiAgVHJhZGVUeXBlW1RyYWRlVHlwZVtcIkVYQUNUX0lOUFVUXCJdID0gMF0gPSBcIkVYQUNUX0lOUFVUXCI7XG4gIFRyYWRlVHlwZVtUcmFkZVR5cGVbXCJFWEFDVF9PVVRQVVRcIl0gPSAxXSA9IFwiRVhBQ1RfT1VUUFVUXCI7XG59KShUcmFkZVR5cGUgfHwgKFRyYWRlVHlwZSA9IHt9KSk7XG5cbnZhciBSb3VuZGluZztcblxuKGZ1bmN0aW9uIChSb3VuZGluZykge1xuICBSb3VuZGluZ1tSb3VuZGluZ1tcIlJPVU5EX0RPV05cIl0gPSAwXSA9IFwiUk9VTkRfRE9XTlwiO1xuICBSb3VuZGluZ1tSb3VuZGluZ1tcIlJPVU5EX0hBTEZfVVBcIl0gPSAxXSA9IFwiUk9VTkRfSEFMRl9VUFwiO1xuICBSb3VuZGluZ1tSb3VuZGluZ1tcIlJPVU5EX1VQXCJdID0gMl0gPSBcIlJPVU5EX1VQXCI7XG59KShSb3VuZGluZyB8fCAoUm91bmRpbmcgPSB7fSkpO1xuXG52YXIgTWF4VWludDI1NiA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmJyk7XG5cbnZhciBfdG9TaWduaWZpY2FudFJvdW5kaW4sIF90b0ZpeGVkUm91bmRpbmc7XG52YXIgRGVjaW1hbCA9IC8qI19fUFVSRV9fKi90b0Zvcm1hdChfRGVjaW1hbCk7XG52YXIgQmlnID0gLyojX19QVVJFX18qL3RvRm9ybWF0KF9CaWcpO1xudmFyIHRvU2lnbmlmaWNhbnRSb3VuZGluZyA9IChfdG9TaWduaWZpY2FudFJvdW5kaW4gPSB7fSwgX3RvU2lnbmlmaWNhbnRSb3VuZGluW1JvdW5kaW5nLlJPVU5EX0RPV05dID0gRGVjaW1hbC5ST1VORF9ET1dOLCBfdG9TaWduaWZpY2FudFJvdW5kaW5bUm91bmRpbmcuUk9VTkRfSEFMRl9VUF0gPSBEZWNpbWFsLlJPVU5EX0hBTEZfVVAsIF90b1NpZ25pZmljYW50Um91bmRpbltSb3VuZGluZy5ST1VORF9VUF0gPSBEZWNpbWFsLlJPVU5EX1VQLCBfdG9TaWduaWZpY2FudFJvdW5kaW4pO1xudmFyIHRvRml4ZWRSb3VuZGluZyA9IChfdG9GaXhlZFJvdW5kaW5nID0ge30sIF90b0ZpeGVkUm91bmRpbmdbUm91bmRpbmcuUk9VTkRfRE9XTl0gPSAwLCBfdG9GaXhlZFJvdW5kaW5nW1JvdW5kaW5nLlJPVU5EX0hBTEZfVVBdID0gMSwgX3RvRml4ZWRSb3VuZGluZ1tSb3VuZGluZy5ST1VORF9VUF0gPSAzLCBfdG9GaXhlZFJvdW5kaW5nKTtcbnZhciBGcmFjdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZyYWN0aW9uKG51bWVyYXRvciwgZGVub21pbmF0b3IpIHtcbiAgICBpZiAoZGVub21pbmF0b3IgPT09IHZvaWQgMCkge1xuICAgICAgZGVub21pbmF0b3IgPSBKU0JJLkJpZ0ludCgxKTtcbiAgICB9XG5cbiAgICB0aGlzLm51bWVyYXRvciA9IEpTQkkuQmlnSW50KG51bWVyYXRvcik7XG4gICAgdGhpcy5kZW5vbWluYXRvciA9IEpTQkkuQmlnSW50KGRlbm9taW5hdG9yKTtcbiAgfVxuXG4gIEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24gPSBmdW5jdGlvbiB0cnlQYXJzZUZyYWN0aW9uKGZyYWN0aW9uaXNoKSB7XG4gICAgaWYgKGZyYWN0aW9uaXNoIGluc3RhbmNlb2YgSlNCSSB8fCB0eXBlb2YgZnJhY3Rpb25pc2ggPT09ICdudW1iZXInIHx8IHR5cGVvZiBmcmFjdGlvbmlzaCA9PT0gJ3N0cmluZycpIHJldHVybiBuZXcgRnJhY3Rpb24oZnJhY3Rpb25pc2gpO1xuICAgIGlmICgnbnVtZXJhdG9yJyBpbiBmcmFjdGlvbmlzaCAmJiAnZGVub21pbmF0b3InIGluIGZyYWN0aW9uaXNoKSByZXR1cm4gZnJhY3Rpb25pc2g7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgcGFyc2UgZnJhY3Rpb24nKTtcbiAgfSAvLyBwZXJmb3JtcyBmbG9vciBkaXZpc2lvblxuICA7XG5cbiAgdmFyIF9wcm90byA9IEZyYWN0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaW52ZXJ0ID0gZnVuY3Rpb24gaW52ZXJ0KCkge1xuICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpcy5kZW5vbWluYXRvciwgdGhpcy5udW1lcmF0b3IpO1xuICB9O1xuXG4gIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcblxuICAgIGlmIChKU0JJLmVxdWFsKHRoaXMuZGVub21pbmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLmFkZCh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQubnVtZXJhdG9yKSwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLmFkZChKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkob3RoZXJQYXJzZWQubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSksIEpTQkkubXVsdGlwbHkodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpKTtcbiAgfTtcblxuICBfcHJvdG8uc3VidHJhY3QgPSBmdW5jdGlvbiBzdWJ0cmFjdChvdGhlcikge1xuICAgIHZhciBvdGhlclBhcnNlZCA9IEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24ob3RoZXIpO1xuXG4gICAgaWYgKEpTQkkuZXF1YWwodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKEpTQkkuc3VidHJhY3QodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLm51bWVyYXRvciksIHRoaXMuZGVub21pbmF0b3IpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRnJhY3Rpb24oSlNCSS5zdWJ0cmFjdChKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkob3RoZXJQYXJzZWQubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSksIEpTQkkubXVsdGlwbHkodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpKTtcbiAgfTtcblxuICBfcHJvdG8ubGVzc1RoYW4gPSBmdW5jdGlvbiBsZXNzVGhhbihvdGhlcikge1xuICAgIHZhciBvdGhlclBhcnNlZCA9IEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24ob3RoZXIpO1xuICAgIHJldHVybiBKU0JJLmxlc3NUaGFuKEpTQkkubXVsdGlwbHkodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSwgSlNCSS5tdWx0aXBseShvdGhlclBhcnNlZC5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpKTtcbiAgfTtcblxuICBfcHJvdG8uZXF1YWxUbyA9IGZ1bmN0aW9uIGVxdWFsVG8ob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICByZXR1cm4gSlNCSS5lcXVhbChKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkob3RoZXJQYXJzZWQubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSk7XG4gIH07XG5cbiAgX3Byb3RvLmdyZWF0ZXJUaGFuID0gZnVuY3Rpb24gZ3JlYXRlclRoYW4ob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICByZXR1cm4gSlNCSS5ncmVhdGVyVGhhbihKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkob3RoZXJQYXJzZWQubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSk7XG4gIH07XG5cbiAgX3Byb3RvLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKEpTQkkubXVsdGlwbHkodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLm51bWVyYXRvciksIEpTQkkubXVsdGlwbHkodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpKTtcbiAgfTtcblxuICBfcHJvdG8uZGl2aWRlID0gZnVuY3Rpb24gZGl2aWRlKG90aGVyKSB7XG4gICAgdmFyIG90aGVyUGFyc2VkID0gRnJhY3Rpb24udHJ5UGFyc2VGcmFjdGlvbihvdGhlcik7XG4gICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQubnVtZXJhdG9yKSk7XG4gIH07XG5cbiAgX3Byb3RvLnRvU2lnbmlmaWNhbnQgPSBmdW5jdGlvbiB0b1NpZ25pZmljYW50KHNpZ25pZmljYW50RGlnaXRzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3JtYXQgPSB7XG4gICAgICAgIGdyb3VwU2VwYXJhdG9yOiAnJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAocm91bmRpbmcgPT09IHZvaWQgMCkge1xuICAgICAgcm91bmRpbmcgPSBSb3VuZGluZy5ST1VORF9IQUxGX1VQO1xuICAgIH1cblxuICAgICFOdW1iZXIuaXNJbnRlZ2VyKHNpZ25pZmljYW50RGlnaXRzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgc2lnbmlmaWNhbnREaWdpdHMgKyBcIiBpcyBub3QgYW4gaW50ZWdlci5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEoc2lnbmlmaWNhbnREaWdpdHMgPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgc2lnbmlmaWNhbnREaWdpdHMgKyBcIiBpcyBub3QgcG9zaXRpdmUuXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBEZWNpbWFsLnNldCh7XG4gICAgICBwcmVjaXNpb246IHNpZ25pZmljYW50RGlnaXRzICsgMSxcbiAgICAgIHJvdW5kaW5nOiB0b1NpZ25pZmljYW50Um91bmRpbmdbcm91bmRpbmddXG4gICAgfSk7XG4gICAgdmFyIHF1b3RpZW50ID0gbmV3IERlY2ltYWwodGhpcy5udW1lcmF0b3IudG9TdHJpbmcoKSkuZGl2KHRoaXMuZGVub21pbmF0b3IudG9TdHJpbmcoKSkudG9TaWduaWZpY2FudERpZ2l0cyhzaWduaWZpY2FudERpZ2l0cyk7XG4gICAgcmV0dXJuIHF1b3RpZW50LnRvRm9ybWF0KHF1b3RpZW50LmRlY2ltYWxQbGFjZXMoKSwgZm9ybWF0KTtcbiAgfTtcblxuICBfcHJvdG8udG9GaXhlZCA9IGZ1bmN0aW9uIHRvRml4ZWQoZGVjaW1hbFBsYWNlcywgZm9ybWF0LCByb3VuZGluZykge1xuICAgIGlmIChmb3JtYXQgPT09IHZvaWQgMCkge1xuICAgICAgZm9ybWF0ID0ge1xuICAgICAgICBncm91cFNlcGFyYXRvcjogJydcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHJvdW5kaW5nID09PSB2b2lkIDApIHtcbiAgICAgIHJvdW5kaW5nID0gUm91bmRpbmcuUk9VTkRfSEFMRl9VUDtcbiAgICB9XG5cbiAgICAhTnVtYmVyLmlzSW50ZWdlcihkZWNpbWFsUGxhY2VzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgZGVjaW1hbFBsYWNlcyArIFwiIGlzIG5vdCBhbiBpbnRlZ2VyLlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIShkZWNpbWFsUGxhY2VzID49IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBkZWNpbWFsUGxhY2VzICsgXCIgaXMgbmVnYXRpdmUuXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBCaWcuRFAgPSBkZWNpbWFsUGxhY2VzO1xuICAgIEJpZy5STSA9IHRvRml4ZWRSb3VuZGluZ1tyb3VuZGluZ107XG4gICAgcmV0dXJuIG5ldyBCaWcodGhpcy5udW1lcmF0b3IudG9TdHJpbmcoKSkuZGl2KHRoaXMuZGVub21pbmF0b3IudG9TdHJpbmcoKSkudG9Gb3JtYXQoZGVjaW1hbFBsYWNlcywgZm9ybWF0KTtcbiAgfVxuICAvKipcclxuICAgKiBIZWxwZXIgbWV0aG9kIGZvciBjb252ZXJ0aW5nIGFueSBzdXBlciBjbGFzcyBiYWNrIHRvIGEgZnJhY3Rpb25cclxuICAgKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhGcmFjdGlvbiwgW3tcbiAgICBrZXk6IFwicXVvdGllbnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBKU0JJLmRpdmlkZSh0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgfSAvLyByZW1haW5kZXIgYWZ0ZXIgZmxvb3IgZGl2aXNpb25cblxuICB9LCB7XG4gICAga2V5OiBcInJlbWFpbmRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLnJlbWFpbmRlcih0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvciksIHRoaXMuZGVub21pbmF0b3IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhc0ZyYWN0aW9uXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXMubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRnJhY3Rpb247XG59KCk7XG5cbnZhciBCaWckMSA9IC8qI19fUFVSRV9fKi90b0Zvcm1hdChfQmlnKTtcbnZhciBDdXJyZW5jeUFtb3VudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0ZyYWN0aW9uKSB7XG4gIF9pbmhlcml0c0xvb3NlKEN1cnJlbmN5QW1vdW50LCBfRnJhY3Rpb24pO1xuXG4gIGZ1bmN0aW9uIEN1cnJlbmN5QW1vdW50KGN1cnJlbmN5LCBudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfRnJhY3Rpb24uY2FsbCh0aGlzLCBudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB8fCB0aGlzO1xuICAgICFKU0JJLmxlc3NUaGFuT3JFcXVhbChfdGhpcy5xdW90aWVudCwgTWF4VWludDI1NikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdBTU9VTlQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgX3RoaXMuY3VycmVuY3kgPSBjdXJyZW5jeTtcbiAgICBfdGhpcy5kZWNpbWFsU2NhbGUgPSBKU0JJLmV4cG9uZW50aWF0ZShKU0JJLkJpZ0ludCgxMCksIEpTQkkuQmlnSW50KGN1cnJlbmN5LmRlY2ltYWxzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBuZXcgY3VycmVuY3kgYW1vdW50IGluc3RhbmNlIGZyb20gdGhlIHVuaXRsZXNzIGFtb3VudCBvZiB0b2tlbiwgaS5lLiB0aGUgcmF3IGFtb3VudFxyXG4gICAqIEBwYXJhbSBjdXJyZW5jeSB0aGUgY3VycmVuY3kgaW4gdGhlIGFtb3VudFxyXG4gICAqIEBwYXJhbSByYXdBbW91bnQgdGhlIHJhdyB0b2tlbiBvciBldGhlciBhbW91bnRcclxuICAgKi9cblxuXG4gIEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQgPSBmdW5jdGlvbiBmcm9tUmF3QW1vdW50KGN1cnJlbmN5LCByYXdBbW91bnQpIHtcbiAgICByZXR1cm4gbmV3IEN1cnJlbmN5QW1vdW50KGN1cnJlbmN5LCByYXdBbW91bnQpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCBhIGN1cnJlbmN5IGFtb3VudCB3aXRoIGEgZGVub21pbmF0b3IgdGhhdCBpcyBub3QgZXF1YWwgdG8gMVxyXG4gICAqIEBwYXJhbSBjdXJyZW5jeSB0aGUgY3VycmVuY3lcclxuICAgKiBAcGFyYW0gbnVtZXJhdG9yIHRoZSBudW1lcmF0b3Igb2YgdGhlIGZyYWN0aW9uYWwgdG9rZW4gYW1vdW50XHJcbiAgICogQHBhcmFtIGRlbm9taW5hdG9yIHRoZSBkZW5vbWluYXRvciBvZiB0aGUgZnJhY3Rpb25hbCB0b2tlbiBhbW91bnRcclxuICAgKi9cbiAgO1xuXG4gIEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50ID0gZnVuY3Rpb24gZnJvbUZyYWN0aW9uYWxBbW91bnQoY3VycmVuY3ksIG51bWVyYXRvciwgZGVub21pbmF0b3IpIHtcbiAgICByZXR1cm4gbmV3IEN1cnJlbmN5QW1vdW50KGN1cnJlbmN5LCBudW1lcmF0b3IsIGRlbm9taW5hdG9yKTtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gQ3VycmVuY3lBbW91bnQucHJvdG90eXBlO1xuXG4gIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQob3RoZXIpIHtcbiAgICAhdGhpcy5jdXJyZW5jeS5lcXVhbHMob3RoZXIuY3VycmVuY3kpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ1VSUkVOQ1knKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICB2YXIgYWRkZWQgPSBfRnJhY3Rpb24ucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsIG90aGVyKTtcblxuICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCh0aGlzLmN1cnJlbmN5LCBhZGRlZC5udW1lcmF0b3IsIGFkZGVkLmRlbm9taW5hdG9yKTtcbiAgfTtcblxuICBfcHJvdG8uc3VidHJhY3QgPSBmdW5jdGlvbiBzdWJ0cmFjdChvdGhlcikge1xuICAgICF0aGlzLmN1cnJlbmN5LmVxdWFscyhvdGhlci5jdXJyZW5jeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDVVJSRU5DWScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIHZhciBzdWJ0cmFjdGVkID0gX0ZyYWN0aW9uLnByb3RvdHlwZS5zdWJ0cmFjdC5jYWxsKHRoaXMsIG90aGVyKTtcblxuICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCh0aGlzLmN1cnJlbmN5LCBzdWJ0cmFjdGVkLm51bWVyYXRvciwgc3VidHJhY3RlZC5kZW5vbWluYXRvcik7XG4gIH07XG5cbiAgX3Byb3RvLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkob3RoZXIpIHtcbiAgICB2YXIgbXVsdGlwbGllZCA9IF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCBvdGhlcik7XG5cbiAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQodGhpcy5jdXJyZW5jeSwgbXVsdGlwbGllZC5udW1lcmF0b3IsIG11bHRpcGxpZWQuZGVub21pbmF0b3IpO1xuICB9O1xuXG4gIF9wcm90by5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUob3RoZXIpIHtcbiAgICB2YXIgZGl2aWRlZCA9IF9GcmFjdGlvbi5wcm90b3R5cGUuZGl2aWRlLmNhbGwodGhpcywgb3RoZXIpO1xuXG4gICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50KHRoaXMuY3VycmVuY3ksIGRpdmlkZWQubnVtZXJhdG9yLCBkaXZpZGVkLmRlbm9taW5hdG9yKTtcbiAgfTtcblxuICBfcHJvdG8udG9TaWduaWZpY2FudCA9IGZ1bmN0aW9uIHRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoc2lnbmlmaWNhbnREaWdpdHMgPT09IHZvaWQgMCkge1xuICAgICAgc2lnbmlmaWNhbnREaWdpdHMgPSA2O1xuICAgIH1cblxuICAgIGlmIChyb3VuZGluZyA9PT0gdm9pZCAwKSB7XG4gICAgICByb3VuZGluZyA9IFJvdW5kaW5nLlJPVU5EX0RPV047XG4gICAgfVxuXG4gICAgcmV0dXJuIF9GcmFjdGlvbi5wcm90b3R5cGUuZGl2aWRlLmNhbGwodGhpcywgdGhpcy5kZWNpbWFsU2NhbGUpLnRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuXG4gIF9wcm90by50b0ZpeGVkID0gZnVuY3Rpb24gdG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKGRlY2ltYWxQbGFjZXMgPT09IHZvaWQgMCkge1xuICAgICAgZGVjaW1hbFBsYWNlcyA9IHRoaXMuY3VycmVuY3kuZGVjaW1hbHM7XG4gICAgfVxuXG4gICAgaWYgKHJvdW5kaW5nID09PSB2b2lkIDApIHtcbiAgICAgIHJvdW5kaW5nID0gUm91bmRpbmcuUk9VTkRfRE9XTjtcbiAgICB9XG5cbiAgICAhKGRlY2ltYWxQbGFjZXMgPD0gdGhpcy5jdXJyZW5jeS5kZWNpbWFscykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdERUNJTUFMUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gX0ZyYWN0aW9uLnByb3RvdHlwZS5kaXZpZGUuY2FsbCh0aGlzLCB0aGlzLmRlY2ltYWxTY2FsZSkudG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKTtcbiAgfTtcblxuICBfcHJvdG8udG9FeGFjdCA9IGZ1bmN0aW9uIHRvRXhhY3QoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3JtYXQgPSB7XG4gICAgICAgIGdyb3VwU2VwYXJhdG9yOiAnJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBCaWckMS5EUCA9IHRoaXMuY3VycmVuY3kuZGVjaW1hbHM7XG4gICAgcmV0dXJuIG5ldyBCaWckMSh0aGlzLnF1b3RpZW50LnRvU3RyaW5nKCkpLmRpdih0aGlzLmRlY2ltYWxTY2FsZS50b1N0cmluZygpKS50b0Zvcm1hdChmb3JtYXQpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhDdXJyZW5jeUFtb3VudCwgW3tcbiAgICBrZXk6IFwid3JhcHBlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVuY3kuaXNUb2tlbikgcmV0dXJuIHRoaXM7XG4gICAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQodGhpcy5jdXJyZW5jeS53cmFwcGVkLCB0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEN1cnJlbmN5QW1vdW50O1xufShGcmFjdGlvbik7XG5cbnZhciBPTkVfSFVORFJFRCA9IC8qI19fUFVSRV9fKi9uZXcgRnJhY3Rpb24oIC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgxMDApKTtcbi8qKlxyXG4gKiBDb252ZXJ0cyBhIGZyYWN0aW9uIHRvIGEgcGVyY2VudFxyXG4gKiBAcGFyYW0gZnJhY3Rpb24gdGhlIGZyYWN0aW9uIHRvIGNvbnZlcnRcclxuICovXG5cbmZ1bmN0aW9uIHRvUGVyY2VudChmcmFjdGlvbikge1xuICByZXR1cm4gbmV3IFBlcmNlbnQoZnJhY3Rpb24ubnVtZXJhdG9yLCBmcmFjdGlvbi5kZW5vbWluYXRvcik7XG59XG5cbnZhciBQZXJjZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRnJhY3Rpb24pIHtcbiAgX2luaGVyaXRzTG9vc2UoUGVyY2VudCwgX0ZyYWN0aW9uKTtcblxuICBmdW5jdGlvbiBQZXJjZW50KCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0ZyYWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAvKipcclxuICAgICAqIFRoaXMgYm9vbGVhbiBwcmV2ZW50cyBhIGZyYWN0aW9uIGZyb20gYmVpbmcgaW50ZXJwcmV0ZWQgYXMgYSBQZXJjZW50XHJcbiAgICAgKi9cblxuICAgIF90aGlzLmlzUGVyY2VudCA9IHRydWU7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFBlcmNlbnQucHJvdG90eXBlO1xuXG4gIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQob3RoZXIpIHtcbiAgICByZXR1cm4gdG9QZXJjZW50KF9GcmFjdGlvbi5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgb3RoZXIpKTtcbiAgfTtcblxuICBfcHJvdG8uc3VidHJhY3QgPSBmdW5jdGlvbiBzdWJ0cmFjdChvdGhlcikge1xuICAgIHJldHVybiB0b1BlcmNlbnQoX0ZyYWN0aW9uLnByb3RvdHlwZS5zdWJ0cmFjdC5jYWxsKHRoaXMsIG90aGVyKSk7XG4gIH07XG5cbiAgX3Byb3RvLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkob3RoZXIpIHtcbiAgICByZXR1cm4gdG9QZXJjZW50KF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCBvdGhlcikpO1xuICB9O1xuXG4gIF9wcm90by5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUob3RoZXIpIHtcbiAgICByZXR1cm4gdG9QZXJjZW50KF9GcmFjdGlvbi5wcm90b3R5cGUuZGl2aWRlLmNhbGwodGhpcywgb3RoZXIpKTtcbiAgfTtcblxuICBfcHJvdG8udG9TaWduaWZpY2FudCA9IGZ1bmN0aW9uIHRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoc2lnbmlmaWNhbnREaWdpdHMgPT09IHZvaWQgMCkge1xuICAgICAgc2lnbmlmaWNhbnREaWdpdHMgPSA1O1xuICAgIH1cblxuICAgIHJldHVybiBfRnJhY3Rpb24ucHJvdG90eXBlLm11bHRpcGx5LmNhbGwodGhpcywgT05FX0hVTkRSRUQpLnRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuXG4gIF9wcm90by50b0ZpeGVkID0gZnVuY3Rpb24gdG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKGRlY2ltYWxQbGFjZXMgPT09IHZvaWQgMCkge1xuICAgICAgZGVjaW1hbFBsYWNlcyA9IDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCBPTkVfSFVORFJFRCkudG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKTtcbiAgfTtcblxuICByZXR1cm4gUGVyY2VudDtcbn0oRnJhY3Rpb24pO1xuXG52YXIgUHJpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9GcmFjdGlvbikge1xuICBfaW5oZXJpdHNMb29zZShQcmljZSwgX0ZyYWN0aW9uKTtcblxuICAvKipcclxuICAgKiBDb25zdHJ1Y3QgYSBwcmljZSwgZWl0aGVyIHdpdGggdGhlIGJhc2UgYW5kIHF1b3RlIGN1cnJlbmN5IGFtb3VudCwgb3IgdGhlXHJcbiAgICogQHBhcmFtIGFyZ3NcclxuICAgKi9cbiAgZnVuY3Rpb24gUHJpY2UoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIGJhc2VDdXJyZW5jeSwgcXVvdGVDdXJyZW5jeSwgZGVub21pbmF0b3IsIG51bWVyYXRvcjtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDQpIHtcbiAgICAgIGJhc2VDdXJyZW5jeSA9IGFyZ3NbMF07XG4gICAgICBxdW90ZUN1cnJlbmN5ID0gYXJnc1sxXTtcbiAgICAgIGRlbm9taW5hdG9yID0gYXJnc1syXTtcbiAgICAgIG51bWVyYXRvciA9IGFyZ3NbM107XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzWzBdLnF1b3RlQW1vdW50LmRpdmlkZShhcmdzWzBdLmJhc2VBbW91bnQpO1xuICAgICAgdmFyIF9yZWYgPSBbYXJnc1swXS5iYXNlQW1vdW50LmN1cnJlbmN5LCBhcmdzWzBdLnF1b3RlQW1vdW50LmN1cnJlbmN5LCByZXN1bHQuZGVub21pbmF0b3IsIHJlc3VsdC5udW1lcmF0b3JdO1xuICAgICAgYmFzZUN1cnJlbmN5ID0gX3JlZlswXTtcbiAgICAgIHF1b3RlQ3VycmVuY3kgPSBfcmVmWzFdO1xuICAgICAgZGVub21pbmF0b3IgPSBfcmVmWzJdO1xuICAgICAgbnVtZXJhdG9yID0gX3JlZlszXTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9GcmFjdGlvbi5jYWxsKHRoaXMsIG51bWVyYXRvciwgZGVub21pbmF0b3IpIHx8IHRoaXM7XG4gICAgX3RoaXMuYmFzZUN1cnJlbmN5ID0gYmFzZUN1cnJlbmN5O1xuICAgIF90aGlzLnF1b3RlQ3VycmVuY3kgPSBxdW90ZUN1cnJlbmN5O1xuICAgIF90aGlzLnNjYWxhciA9IG5ldyBGcmFjdGlvbihKU0JJLmV4cG9uZW50aWF0ZShKU0JJLkJpZ0ludCgxMCksIEpTQkkuQmlnSW50KGJhc2VDdXJyZW5jeS5kZWNpbWFscykpLCBKU0JJLmV4cG9uZW50aWF0ZShKU0JJLkJpZ0ludCgxMCksIEpTQkkuQmlnSW50KHF1b3RlQ3VycmVuY3kuZGVjaW1hbHMpKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIEZsaXAgdGhlIHByaWNlLCBzd2l0Y2hpbmcgdGhlIGJhc2UgYW5kIHF1b3RlIGN1cnJlbmN5XHJcbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gUHJpY2UucHJvdG90eXBlO1xuXG4gIF9wcm90by5pbnZlcnQgPSBmdW5jdGlvbiBpbnZlcnQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcmljZSh0aGlzLnF1b3RlQ3VycmVuY3ksIHRoaXMuYmFzZUN1cnJlbmN5LCB0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcik7XG4gIH1cbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgdGhlIHByaWNlIGJ5IGFub3RoZXIgcHJpY2UsIHJldHVybmluZyBhIG5ldyBwcmljZS4gVGhlIG90aGVyIHByaWNlIG11c3QgaGF2ZSB0aGUgc2FtZSBiYXNlIGN1cnJlbmN5IGFzIHRoaXMgcHJpY2UncyBxdW90ZSBjdXJyZW5jeVxyXG4gICAqIEBwYXJhbSBvdGhlciB0aGUgb3RoZXIgcHJpY2VcclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5tdWx0aXBseSA9IGZ1bmN0aW9uIG11bHRpcGx5KG90aGVyKSB7XG4gICAgIXRoaXMucXVvdGVDdXJyZW5jeS5lcXVhbHMob3RoZXIuYmFzZUN1cnJlbmN5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1RPS0VOJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgdmFyIGZyYWN0aW9uID0gX0ZyYWN0aW9uLnByb3RvdHlwZS5tdWx0aXBseS5jYWxsKHRoaXMsIG90aGVyKTtcblxuICAgIHJldHVybiBuZXcgUHJpY2UodGhpcy5iYXNlQ3VycmVuY3ksIG90aGVyLnF1b3RlQ3VycmVuY3ksIGZyYWN0aW9uLmRlbm9taW5hdG9yLCBmcmFjdGlvbi5udW1lcmF0b3IpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGUgYW1vdW50IG9mIHF1b3RlIGN1cnJlbmN5IGNvcnJlc3BvbmRpbmcgdG8gYSBnaXZlbiBhbW91bnQgb2YgdGhlIGJhc2UgY3VycmVuY3lcclxuICAgKiBAcGFyYW0gY3VycmVuY3lBbW91bnQgdGhlIGFtb3VudCBvZiBiYXNlIGN1cnJlbmN5IHRvIHF1b3RlIGFnYWluc3QgdGhlIHByaWNlXHJcbiAgICovXG4gIDtcblxuICBfcHJvdG8ucXVvdGUgPSBmdW5jdGlvbiBxdW90ZShjdXJyZW5jeUFtb3VudCkge1xuICAgICFjdXJyZW5jeUFtb3VudC5jdXJyZW5jeS5lcXVhbHModGhpcy5iYXNlQ3VycmVuY3kpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVE9LRU4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICB2YXIgcmVzdWx0ID0gX0ZyYWN0aW9uLnByb3RvdHlwZS5tdWx0aXBseS5jYWxsKHRoaXMsIGN1cnJlbmN5QW1vdW50KTtcblxuICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCh0aGlzLnF1b3RlQ3VycmVuY3ksIHJlc3VsdC5udW1lcmF0b3IsIHJlc3VsdC5kZW5vbWluYXRvcik7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSB2YWx1ZSBzY2FsZWQgYnkgZGVjaW1hbHMgZm9yIGZvcm1hdHRpbmdcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU2lnbmlmaWNhbnQgPSBmdW5jdGlvbiB0b1NpZ25pZmljYW50KHNpZ25pZmljYW50RGlnaXRzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKHNpZ25pZmljYW50RGlnaXRzID09PSB2b2lkIDApIHtcbiAgICAgIHNpZ25pZmljYW50RGlnaXRzID0gNjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hZGp1c3RlZEZvckRlY2ltYWxzLnRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuXG4gIF9wcm90by50b0ZpeGVkID0gZnVuY3Rpb24gdG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKGRlY2ltYWxQbGFjZXMgPT09IHZvaWQgMCkge1xuICAgICAgZGVjaW1hbFBsYWNlcyA9IDQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuYWRqdXN0ZWRGb3JEZWNpbWFscy50b0ZpeGVkKGRlY2ltYWxQbGFjZXMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhQcmljZSwgW3tcbiAgICBrZXk6IFwiYWRqdXN0ZWRGb3JEZWNpbWFsc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCB0aGlzLnNjYWxhcik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByaWNlO1xufShGcmFjdGlvbik7XG5cbi8qKlxyXG4gKiBBIGN1cnJlbmN5IGlzIGFueSBmdW5naWJsZSBmaW5hbmNpYWwgaW5zdHJ1bWVudCwgaW5jbHVkaW5nIEV0aGVyLCBhbGwgRVJDMjAgdG9rZW5zLCBhbmQgb3RoZXIgY2hhaW4tbmF0aXZlIGN1cnJlbmNpZXNcclxuICovXG5cbnZhciBCYXNlQ3VycmVuY3kgPVxuLyoqXHJcbiAqIENvbnN0cnVjdHMgYW4gaW5zdGFuY2Ugb2YgdGhlIGJhc2UgY2xhc3MgYEJhc2VDdXJyZW5jeWAuXHJcbiAqIEBwYXJhbSBjaGFpbklkIHRoZSBjaGFpbiBJRCBvbiB3aGljaCB0aGlzIGN1cnJlbmN5IHJlc2lkZXNcclxuICogQHBhcmFtIGRlY2ltYWxzIGRlY2ltYWxzIG9mIHRoZSBjdXJyZW5jeVxyXG4gKiBAcGFyYW0gc3ltYm9sIHN5bWJvbCBvZiB0aGUgY3VycmVuY3lcclxuICogQHBhcmFtIG5hbWUgb2YgdGhlIGN1cnJlbmN5XHJcbiAqL1xuZnVuY3Rpb24gQmFzZUN1cnJlbmN5KGNoYWluSWQsIGRlY2ltYWxzLCBzeW1ib2wsIG5hbWUpIHtcbiAgIU51bWJlci5pc1NhZmVJbnRlZ2VyKGNoYWluSWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ0hBSU5fSUQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICEoZGVjaW1hbHMgPj0gMCAmJiBkZWNpbWFscyA8IDI1NSAmJiBOdW1iZXIuaXNJbnRlZ2VyKGRlY2ltYWxzKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdERUNJTUFMUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdGhpcy5jaGFpbklkID0gY2hhaW5JZDtcbiAgdGhpcy5kZWNpbWFscyA9IGRlY2ltYWxzO1xuICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcbiAgdGhpcy5uYW1lID0gbmFtZTtcbn07XG5cbi8qKlxyXG4gKiBSZXByZXNlbnRzIHRoZSBuYXRpdmUgY3VycmVuY3kgb2YgdGhlIGNoYWluIG9uIHdoaWNoIGl0IHJlc2lkZXMsIGUuZy5cclxuICovXG5cbnZhciBOYXRpdmVDdXJyZW5jeSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VDdXJyZW5jeSkge1xuICBfaW5oZXJpdHNMb29zZShOYXRpdmVDdXJyZW5jeSwgX0Jhc2VDdXJyZW5jeSk7XG5cbiAgZnVuY3Rpb24gTmF0aXZlQ3VycmVuY3koKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQmFzZUN1cnJlbmN5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5pc05hdGl2ZSA9IHRydWU7XG4gICAgX3RoaXMuaXNUb2tlbiA9IGZhbHNlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBOYXRpdmVDdXJyZW5jeTtcbn0oQmFzZUN1cnJlbmN5KTtcblxuLyoqXHJcbiAqIFZhbGlkYXRlcyBhbiBhZGRyZXNzIGFuZCByZXR1cm5zIHRoZSBwYXJzZWQgKGNoZWNrc3VtbWVkKSB2ZXJzaW9uIG9mIHRoYXQgYWRkcmVzc1xyXG4gKiBAcGFyYW0gYWRkcmVzcyB0aGUgdW5jaGVja3N1bW1lZCBoZXggYWRkcmVzc1xyXG4gKi9cblxuZnVuY3Rpb24gdmFsaWRhdGVBbmRQYXJzZUFkZHJlc3MoYWRkcmVzcykge1xuICB0cnkge1xuICAgIHJldHVybiBnZXRBZGRyZXNzKGFkZHJlc3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihhZGRyZXNzICsgXCIgaXMgbm90IGEgdmFsaWQgYWRkcmVzcy5cIik7XG4gIH1cbn0gLy8gQ2hlY2tzIGEgc3RyaW5nIHN0YXJ0cyB3aXRoIDB4LCBpcyA0MiBjaGFyYWN0ZXJzIGxvbmcgYW5kIGNvbnRhaW5zIG9ubHkgaGV4IGNoYXJhY3RlcnMgYWZ0ZXIgMHhcblxudmFyIHN0YXJ0c1dpdGgweExlbjQySGV4UmVnZXggPSAvXjB4WzAtOWEtZkEtRl17NDB9JC87XG4vKipcclxuICogQ2hlY2tzIGlmIGFuIGFkZHJlc3MgaXMgdmFsaWQgYnkgY2hlY2tpbmcgMHggcHJlZml4LCBsZW5ndGggPT09IDQyIGFuZCBoZXggZW5jb2RpbmcuXHJcbiAqIEBwYXJhbSBhZGRyZXNzIHRoZSB1bmNoZWNrc3VtbWVkIGhleCBhZGRyZXNzXHJcbiAqL1xuXG5mdW5jdGlvbiBjaGVja1ZhbGlkQWRkcmVzcyhhZGRyZXNzKSB7XG4gIGlmIChzdGFydHNXaXRoMHhMZW40MkhleFJlZ2V4LnRlc3QoYWRkcmVzcykpIHtcbiAgICByZXR1cm4gYWRkcmVzcztcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcihhZGRyZXNzICsgXCIgaXMgbm90IGEgdmFsaWQgYWRkcmVzcy5cIik7XG59XG5cbi8qKlxyXG4gKiBSZXByZXNlbnRzIGFuIEVSQzIwIHRva2VuIHdpdGggYSB1bmlxdWUgYWRkcmVzcyBhbmQgc29tZSBtZXRhZGF0YS5cclxuICovXG5cbnZhciBUb2tlbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VDdXJyZW5jeSkge1xuICBfaW5oZXJpdHNMb29zZShUb2tlbiwgX0Jhc2VDdXJyZW5jeSk7XG5cbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcGFyYW0gY2hhaW5JZCB7QGxpbmsgQmFzZUN1cnJlbmN5I2NoYWluSWR9XHJcbiAgICogQHBhcmFtIGFkZHJlc3MgVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb24gdGhlIGNoYWluIG9uIHdoaWNoIHRoaXMgdG9rZW4gbGl2ZXNcclxuICAgKiBAcGFyYW0gZGVjaW1hbHMge0BsaW5rIEJhc2VDdXJyZW5jeSNkZWNpbWFsc31cclxuICAgKiBAcGFyYW0gc3ltYm9sIHtAbGluayBCYXNlQ3VycmVuY3kjc3ltYm9sfVxyXG4gICAqIEBwYXJhbSBuYW1lIHtAbGluayBCYXNlQ3VycmVuY3kjbmFtZX1cclxuICAgKiBAcGFyYW0gYnlwYXNzQ2hlY2tzdW0gSWYgdHJ1ZSBpdCBvbmx5IGNoZWNrcyBmb3IgbGVuZ3RoID09PSA0Miwgc3RhcnRzV2l0aCAweCBhbmQgY29udGFpbnMgb25seSBoZXggY2hhcmFjdGVyc1xyXG4gICAqL1xuICBmdW5jdGlvbiBUb2tlbihjaGFpbklkLCBhZGRyZXNzLCBkZWNpbWFscywgc3ltYm9sLCBuYW1lLCBieXBhc3NDaGVja3N1bSkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0Jhc2VDdXJyZW5jeS5jYWxsKHRoaXMsIGNoYWluSWQsIGRlY2ltYWxzLCBzeW1ib2wsIG5hbWUpIHx8IHRoaXM7XG4gICAgX3RoaXMuaXNOYXRpdmUgPSBmYWxzZTtcbiAgICBfdGhpcy5pc1Rva2VuID0gdHJ1ZTtcblxuICAgIGlmIChieXBhc3NDaGVja3N1bSkge1xuICAgICAgX3RoaXMuYWRkcmVzcyA9IGNoZWNrVmFsaWRBZGRyZXNzKGFkZHJlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5hZGRyZXNzID0gdmFsaWRhdGVBbmRQYXJzZUFkZHJlc3MoYWRkcmVzcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHdvIHRva2VucyBhcmUgZXF1aXZhbGVudCwgaS5lLiBoYXZlIHRoZSBzYW1lIGNoYWluSWQgYW5kIGFkZHJlc3MuXHJcbiAgICogQHBhcmFtIG90aGVyIG90aGVyIHRva2VuIHRvIGNvbXBhcmVcclxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBUb2tlbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICAgIHJldHVybiBvdGhlci5pc1Rva2VuICYmIHRoaXMuY2hhaW5JZCA9PT0gb3RoZXIuY2hhaW5JZCAmJiB0aGlzLmFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gb3RoZXIuYWRkcmVzcy50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYWRkcmVzcyBvZiB0aGlzIHRva2VuIHNvcnRzIGJlZm9yZSB0aGUgYWRkcmVzcyBvZiB0aGUgb3RoZXIgdG9rZW5cclxuICAgKiBAcGFyYW0gb3RoZXIgb3RoZXIgdG9rZW4gdG8gY29tcGFyZVxyXG4gICAqIEB0aHJvd3MgaWYgdGhlIHRva2VucyBoYXZlIHRoZSBzYW1lIGFkZHJlc3NcclxuICAgKiBAdGhyb3dzIGlmIHRoZSB0b2tlbnMgYXJlIG9uIGRpZmZlcmVudCBjaGFpbnNcclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zb3J0c0JlZm9yZSA9IGZ1bmN0aW9uIHNvcnRzQmVmb3JlKG90aGVyKSB7XG4gICAgISh0aGlzLmNoYWluSWQgPT09IG90aGVyLmNoYWluSWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ0hBSU5fSURTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEodGhpcy5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgIT09IG90aGVyLmFkZHJlc3MudG9Mb3dlckNhc2UoKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdBRERSRVNTRVMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIHRoaXMuYWRkcmVzcy50b0xvd2VyQ2FzZSgpIDwgb3RoZXIuYWRkcmVzcy50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGlzIHRva2VuLCB3aGljaCBkb2VzIG5vdCBuZWVkIHRvIGJlIHdyYXBwZWRcclxuICAgKi9cbiAgO1xuXG4gIF9jcmVhdGVDbGFzcyhUb2tlbiwgW3tcbiAgICBrZXk6IFwid3JhcHBlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRva2VuO1xufShCYXNlQ3VycmVuY3kpO1xuXG52YXIgX1dFVEg7XG4vKipcclxuICogS25vd24gV0VUSDkgaW1wbGVtZW50YXRpb24gYWRkcmVzc2VzLCB1c2VkIGluIG91ciBpbXBsZW1lbnRhdGlvbiBvZiBFdGhlciN3cmFwcGVkXHJcbiAqL1xuXG52YXIgV0VUSDkgPSAoX1dFVEggPSB7fSwgX1dFVEhbMV0gPSAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDEsICcweEMwMmFhQTM5YjIyM0ZFOEQwQTBlNUM0RjI3ZUFEOTA4M0M3NTZDYzInLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLCBfV0VUSFszXSA9IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oMywgJzB4Yzc3ODQxN0UwNjMxNDExMzlGY2UwMTA5ODI3ODAxNDBBYTBjRDVBYicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksIF9XRVRIWzRdID0gLyojX19QVVJFX18qL25ldyBUb2tlbig0LCAnMHhjNzc4NDE3RTA2MzE0MTEzOUZjZTAxMDk4Mjc4MDE0MEFhMGNENUFiJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSwgX1dFVEhbNV0gPSAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDUsICcweEI0RkJGMjcxMTQzRjRGQmY3QjkxQTVkZWQzMTgwNWU0MmIyMjA4ZDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLCBfV0VUSFs0Ml0gPSAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDQyLCAnMHhkMEExRTM1OTgxMTMyMmQ5Nzk5MUUwM2Y4NjNhMEMzMEMyY0YwMjlDJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSwgX1dFVEhbMTBdID0gLyojX19QVVJFX18qL25ldyBUb2tlbigxMCwgJzB4NDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksIF9XRVRIWzY5XSA9IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNjksICcweDQyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLCBfV0VUSFs0MjE2MV0gPSAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDQyMTYxLCAnMHg4MmFGNDk0NDdEOGEwN2UzYmQ5NUJEMGQ1NmYzNTI0MTUyM2ZCYWIxJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSwgX1dFVEhbNDIxNjExXSA9IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNDIxNjExLCAnMHhCNDdlNkE1ZjhiMzNiM0YxNzYwM0M4M2EwNTM1QTlkY0Q3RTMyNjgxJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSwgX1dFVEgpO1xuXG4vKipcclxuICogRXRoZXIgaXMgdGhlIG1haW4gdXNhZ2Ugb2YgYSAnbmF0aXZlJyBjdXJyZW5jeSwgaS5lLiBmb3IgRXRoZXJldW0gbWFpbm5ldCBhbmQgYWxsIHRlc3RuZXRzXHJcbiAqL1xuXG52YXIgRXRoZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9OYXRpdmVDdXJyZW5jeSkge1xuICBfaW5oZXJpdHNMb29zZShFdGhlciwgX05hdGl2ZUN1cnJlbmN5KTtcblxuICBmdW5jdGlvbiBFdGhlcihjaGFpbklkKSB7XG4gICAgcmV0dXJuIF9OYXRpdmVDdXJyZW5jeS5jYWxsKHRoaXMsIGNoYWluSWQsIDE4LCAnRVRIJywgJ0V0aGVyJykgfHwgdGhpcztcbiAgfVxuXG4gIEV0aGVyLm9uQ2hhaW4gPSBmdW5jdGlvbiBvbkNoYWluKGNoYWluSWQpIHtcbiAgICB2YXIgX3RoaXMkX2V0aGVyQ2FjaGUkY2hhO1xuXG4gICAgcmV0dXJuIChfdGhpcyRfZXRoZXJDYWNoZSRjaGEgPSB0aGlzLl9ldGhlckNhY2hlW2NoYWluSWRdKSAhPSBudWxsID8gX3RoaXMkX2V0aGVyQ2FjaGUkY2hhIDogdGhpcy5fZXRoZXJDYWNoZVtjaGFpbklkXSA9IG5ldyBFdGhlcihjaGFpbklkKTtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gRXRoZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIuaXNOYXRpdmUgJiYgb3RoZXIuY2hhaW5JZCA9PT0gdGhpcy5jaGFpbklkO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhFdGhlciwgW3tcbiAgICBrZXk6IFwid3JhcHBlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHdldGg5ID0gV0VUSDlbdGhpcy5jaGFpbklkXTtcbiAgICAgICEhIXdldGg5ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnV1JBUFBFRCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiB3ZXRoOTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRXRoZXI7XG59KE5hdGl2ZUN1cnJlbmN5KTtcbkV0aGVyLl9ldGhlckNhY2hlID0ge307XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBwZXJjZW50IGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgbWlkIHByaWNlIGFuZCB0aGUgZXhlY3V0aW9uIHByaWNlLCBpLmUuIHByaWNlIGltcGFjdC5cclxuICogQHBhcmFtIG1pZFByaWNlIG1pZCBwcmljZSBiZWZvcmUgdGhlIHRyYWRlXHJcbiAqIEBwYXJhbSBpbnB1dEFtb3VudCB0aGUgaW5wdXQgYW1vdW50IG9mIHRoZSB0cmFkZVxyXG4gKiBAcGFyYW0gb3V0cHV0QW1vdW50IHRoZSBvdXRwdXQgYW1vdW50IG9mIHRoZSB0cmFkZVxyXG4gKi9cblxuZnVuY3Rpb24gY29tcHV0ZVByaWNlSW1wYWN0KG1pZFByaWNlLCBpbnB1dEFtb3VudCwgb3V0cHV0QW1vdW50KSB7XG4gIHZhciBxdW90ZWRPdXRwdXRBbW91bnQgPSBtaWRQcmljZS5xdW90ZShpbnB1dEFtb3VudCk7IC8vIGNhbGN1bGF0ZSBwcmljZSBpbXBhY3QgOj0gKGV4YWN0UXVvdGUgLSBvdXRwdXRBbW91bnQpIC8gZXhhY3RRdW90ZVxuXG4gIHZhciBwcmljZUltcGFjdCA9IHF1b3RlZE91dHB1dEFtb3VudC5zdWJ0cmFjdChvdXRwdXRBbW91bnQpLmRpdmlkZShxdW90ZWRPdXRwdXRBbW91bnQpO1xuICByZXR1cm4gbmV3IFBlcmNlbnQocHJpY2VJbXBhY3QubnVtZXJhdG9yLCBwcmljZUltcGFjdC5kZW5vbWluYXRvcik7XG59XG5cbi8vIGBtYXhTaXplYCBieSByZW1vdmluZyB0aGUgbGFzdCBpdGVtXG5cbmZ1bmN0aW9uIHNvcnRlZEluc2VydChpdGVtcywgYWRkLCBtYXhTaXplLCBjb21wYXJhdG9yKSB7XG4gICEobWF4U2l6ZSA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTUFYX1NJWkVfWkVSTycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDsgLy8gdGhpcyBpcyBhbiBpbnZhcmlhbnQgYmVjYXVzZSB0aGUgaW50ZXJmYWNlIGNhbm5vdCByZXR1cm4gbXVsdGlwbGUgcmVtb3ZlZCBpdGVtcyBpZiBpdGVtcy5sZW5ndGggZXhjZWVkcyBtYXhTaXplXG5cbiAgIShpdGVtcy5sZW5ndGggPD0gbWF4U2l6ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdJVEVNU19TSVpFJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwOyAvLyBzaG9ydCBjaXJjdWl0IGZpcnN0IGl0ZW0gYWRkXG5cbiAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIGl0ZW1zLnB1c2goYWRkKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaXNGdWxsID0gaXRlbXMubGVuZ3RoID09PSBtYXhTaXplOyAvLyBzaG9ydCBjaXJjdWl0IGlmIGZ1bGwgYW5kIHRoZSBhZGRpdGlvbmFsIGl0ZW0gZG9lcyBub3QgY29tZSBiZWZvcmUgdGhlIGxhc3QgaXRlbVxuXG4gICAgaWYgKGlzRnVsbCAmJiBjb21wYXJhdG9yKGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdLCBhZGQpIDw9IDApIHtcbiAgICAgIHJldHVybiBhZGQ7XG4gICAgfVxuXG4gICAgdmFyIGxvID0gMCxcbiAgICAgICAgaGkgPSBpdGVtcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobG8gPCBoaSkge1xuICAgICAgdmFyIG1pZCA9IGxvICsgaGkgPj4+IDE7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKGl0ZW1zW21pZF0sIGFkZCkgPD0gMCkge1xuICAgICAgICBsbyA9IG1pZCArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaSA9IG1pZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpdGVtcy5zcGxpY2UobG8sIDAsIGFkZCk7XG4gICAgcmV0dXJuIGlzRnVsbCA/IGl0ZW1zLnBvcCgpIDogbnVsbDtcbiAgfVxufVxuXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUik7XG52YXIgWkVSTyA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgwKTtcbnZhciBPTkUgPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoMSk7XG52YXIgVFdPID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDIpO1xuLyoqXHJcbiAqIENvbXB1dGVzIGZsb29yKHNxcnQodmFsdWUpKVxyXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHZhbHVlIGZvciB3aGljaCB0byBjb21wdXRlIHRoZSBzcXVhcmUgcm9vdCwgcm91bmRlZCBkb3duXHJcbiAqL1xuXG5mdW5jdGlvbiBzcXJ0KHZhbHVlKSB7XG4gICFKU0JJLmdyZWF0ZXJUaGFuT3JFcXVhbCh2YWx1ZSwgWkVSTykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdORUdBVElWRScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDsgLy8gcmVseSBvbiBidWlsdCBpbiBzcXJ0IGlmIHBvc3NpYmxlXG5cbiAgaWYgKEpTQkkubGVzc1RoYW4odmFsdWUsIE1BWF9TQUZFX0lOVEVHRVIpKSB7XG4gICAgcmV0dXJuIEpTQkkuQmlnSW50KE1hdGguZmxvb3IoTWF0aC5zcXJ0KEpTQkkudG9OdW1iZXIodmFsdWUpKSkpO1xuICB9XG5cbiAgdmFyIHo7XG4gIHZhciB4O1xuICB6ID0gdmFsdWU7XG4gIHggPSBKU0JJLmFkZChKU0JJLmRpdmlkZSh2YWx1ZSwgVFdPKSwgT05FKTtcblxuICB3aGlsZSAoSlNCSS5sZXNzVGhhbih4LCB6KSkge1xuICAgIHogPSB4O1xuICAgIHggPSBKU0JJLmRpdmlkZShKU0JJLmFkZChKU0JJLmRpdmlkZSh2YWx1ZSwgeCksIHgpLCBUV08pO1xuICB9XG5cbiAgcmV0dXJuIHo7XG59XG5cbmV4cG9ydCB7IEFSR0VOVF9XQUxMRVRfREVURUNUT1JfQUREUkVTUywgQ0hBSU5fVE9fQUREUkVTU0VTX01BUCwgQ2hhaW5JZCwgQ3VycmVuY3lBbW91bnQsIEVOU19SRUdJU1RSQVJfQUREUkVTU0VTLCBFdGhlciwgRnJhY3Rpb24sIEdPVkVSTkFOQ0VfQUxQSEFfVjBfQUREUkVTU0VTLCBHT1ZFUk5BTkNFX0FMUEhBX1YxX0FERFJFU1NFUywgR09WRVJOQU5DRV9CUkFWT19BRERSRVNTRVMsIE1FUktMRV9ESVNUUklCVVRPUl9BRERSRVNTLCBNSVhFRF9ST1VURV9RVU9URVJfVjFfQUREUkVTU0VTLCBNVUxUSUNBTExfQUREUkVTU0VTLCBNYXhVaW50MjU2LCBOT05GVU5HSUJMRV9QT1NJVElPTl9NQU5BR0VSX0FERFJFU1NFUywgTmF0aXZlQ3VycmVuY3ksIE5hdGl2ZUN1cnJlbmN5TmFtZSwgUGVyY2VudCwgUHJpY2UsIFFVT1RFUl9BRERSRVNTRVMsIFJvdW5kaW5nLCBTT0NLU19DT05UUk9MTEVSX0FERFJFU1NFUywgU1VQUE9SVEVEX0NIQUlOUywgU1dBUF9ST1VURVJfMDJfQUREUkVTU0VTLCBUSUNLX0xFTlNfQUREUkVTU0VTLCBUSU1FTE9DS19BRERSRVNTRVMsIFRva2VuLCBUcmFkZVR5cGUsIFVOSVNXQVBfTkZUX0FJUkRST1BfQ0xBSU1fQUREUkVTUywgVU5JX0FERFJFU1NFUywgVjJfRkFDVE9SWV9BRERSRVNTLCBWMl9GQUNUT1JZX0FERFJFU1NFUywgVjJfUk9VVEVSX0FERFJFU1MsIFYyX1JPVVRFUl9BRERSRVNTRVMsIFYzX0NPUkVfRkFDVE9SWV9BRERSRVNTRVMsIFYzX01JR1JBVE9SX0FERFJFU1NFUywgV0VUSDksIGNvbXB1dGVQcmljZUltcGFjdCwgc29ydGVkSW5zZXJ0LCBzcXJ0LCB2YWxpZGF0ZUFuZFBhcnNlQWRkcmVzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2RrLWNvcmUuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/.pnpm/@uniswap+sdk-core@4.0.6/node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js\n");

/***/ })

};
;